(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{0:function(t,e,n){t.exports=n("2f39")},"0047":function(t,e,n){},"02ce":function(t,e,n){},"09bb":function(t,e,n){"use strict";var i=n("20fd"),s=n.n(i);s.a},1:function(t,e){},"145f":function(t,e,n){"use strict";var i=n("02ce"),s=n.n(i);s.a},2:function(t,e){},"20fd":function(t,e,n){},2210:function(t,e,n){"use strict";var i=n("3036"),s=n.n(i);s.a},"2afb":function(t,e,n){"use strict";var i=n("3651"),s=n.n(i);s.a},"2f39":function(t,e,n){"use strict";n.r(e);n("e54f"),n("985d"),n("0047");var i=n("2b0e"),s=n("1f91"),r=n("42d2"),o=n("b178");i["a"].use(o["c"],{config:{loadingBar:{skipHijack:!0}},lang:s["a"],iconSet:r["a"]});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"non-selectable",attrs:{id:"q-app"}},[t.ready?n("router-view"):t._e()],1)},c=[],l=i["a"].extend({computed:{ready(){return this.$state.wallet.ready&&this.$state.config.ready}}}),d=l,u=n("2877"),h=Object(u["a"])(d,a,c,!1,null,null,null),f=h.exports,m=n("4bde"),p=n("8c4f"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$state.config.all.passwordShadow?n("q-layout",{attrs:{view:"lHh Lpr lFf"}},[n("transition",{attrs:{name:"q-transition--fade"}},[n("q-header",{key:t.$route.name,staticClass:"bg-white text-black"},[n("div"),n("q-toolbar",[t.isIndexPage?n("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"},on:{click:function(e){t.drawerOpen=!0}}}):n("q-btn",{attrs:{flat:"",dense:"",round:"",icon:"keyboard_arrow_left","aria-label":"Keyboard Arrow Left"},on:{click:function(e){t.$stack.canGoBack?t.$router.back():t.$router.replace({name:"index"})}}}),n("q-toolbar-title",{staticClass:"text-center"},[t._v(t._s(t.title))]),n("q-btn",{class:{invisible:!t.$route.meta.hasMenu},attrs:{flat:"",dense:"",round:"",icon:"more_horiz"},on:{click:t.onClickMore}})],1)],1)],1),n("drawer",{attrs:{disable:!t.isIndexPage},model:{value:t.drawerOpen,callback:function(e){t.drawerOpen=e},expression:"drawerOpen"}},[n("div",{staticClass:"column full-height",staticStyle:{width:"300px"}},[n("q-toolbar",[n("q-avatar",{attrs:{color:"primary","text-color":"white"}},[t._v("S")]),n("q-toolbar-title",[t._v("\n                    Sync\n                ")])],1),n("q-toolbar",[n("q-toolbar-title",{staticClass:"text-grey text-subtitle2"},[t._v("\n                    Wallets\n                ")]),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"add"},on:{click:t.onClickAddWallet}})],1),n("q-list",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider.both",modifiers:{both:!0}}],staticClass:"col fit overflow-auto"},t._l(t.$state.wallet.list,(function(e){return n("wallet-item",{key:e.id,attrs:{name:e.meta.name,clickable:"",active:e.id===t.$state.wallet.current.id,net:t._f("net")(e.gid),"active-class":"bg-blue-1"},on:{click:function(n){return t.onClickWallet(e.id)}}})})),1),n("q-toolbar",[n("q-btn",{attrs:{icon:"settings",flat:"",dense:"",round:"",to:{name:"settings",query:{"no-transition-in":"1"}}}}),n("q-space"),n("q-btn",{attrs:{icon:"history",flat:"",dense:"",round:"",to:{name:"activities",query:{"no-transition-in":"1"}}}}),n("TxActivityUpdate")],1)],1)]),n("q-page-container",[n("StackedRouterView")],1)],1):n("wizard",{staticClass:"fullscreen"})},g=[],b=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function y(){return b(this,void 0,void 0,(function*(){return new Promise(()=>{})}))}var x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{maximized:"",persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},on:{hide:function(e){return t.$emit("hide")}}},[n("q-card",[n("q-toolbar",[n("q-btn",{attrs:{flat:"",disable:t.creating},on:{click:t.hide}},[t._v("Cancel")]),n("q-toolbar-title",{staticClass:"absolute-center text-capitalize"},[t._v("\n                Create Wallet\n            ")])],1),t.creating?n("div",{staticClass:"absolute-center"},[t._v("\n            Creating...\n        ")]):n("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"500px"}},[n("q-form",{staticClass:"q-px-md",on:{submit:t.onNew}},[n("q-input",{attrs:{rules:[function(t){return t.length>0||"Give it a name!"}],label:"Wallet Name"},model:{value:t.name,callback:function(e){t.name="string"===typeof e?e.trim():e},expression:"name"}}),n("div",{staticClass:"q-mt-lg"},[t._v("Network")]),t._l(t.nodes,(function(e){return n("q-radio",{key:e.gid,staticClass:"text-capitalize",attrs:{val:e.gid,label:t._f("net")(e.gid)},model:{value:t.gid,callback:function(e){t.gid=e},expression:"gid"}})})),n("div",{staticClass:"text-center q-pt-md"},[n("q-btn",{staticClass:"text-capitalize",attrs:{unelevated:"",size:"sm",color:"black",type:"submit",label:"Create"}})],1)],2)],1)],1)],1)},w=[],k=n("e590"),q=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},_=i["a"].extend({data:()=>({name:"",gid:"",words:"",creating:!1}),computed:{nodes(){return this.$state.config.node.list}},created(){this.gid=this.nodes[0].gid},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},ok(t){this.$emit("ok",t),this.hide()},onNew(){return q(this,void 0,void 0,(function*(){try{const t=yield this.$authenticate(t=>Promise.resolve(t));this.creating=!0;const e=yield k["a"].generateMnemonic(),n=yield k["a"].createHD(e,t),i=yield n.derive(0),s={name:this.name,addresses:[i.address]};yield this.$storage.wallets.insert({gid:this.gid,vault:n.encode(),meta:JSON.stringify(s)}),this.ok({}),this.$q.notify(`New wallet ${this.name} created`)}catch(t){console.warn(t)}finally{this.creating=!1}}))}}}),C=_,$=Object(u["a"])(C,x,w,!1,null,null,null),S=$.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{maximized:"",persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},on:{hide:function(e){return t.$emit("hide")}}},[n("q-card",[n("q-toolbar",[n("q-btn",{attrs:{flat:"",disable:t.importing},on:{click:t.hide}},[t._v("Cancel")]),n("q-toolbar-title",{staticClass:"absolute-center text-capitalize"},[t._v("\n                Import Wallet\n            ")])],1),t.importing?n("div",{staticClass:"absolute-center"},[t._v("\n            Importing...\n        ")]):n("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"500px"}},[n("q-form",{staticClass:"q-px-md",on:{submit:t.onImport}},[n("q-input",{attrs:{"no-error-icon":"",autocomplete:"off",clearable:"",rules:[function(t){return t.length>0||"Give it a name!"}],label:"Wallet Name"},model:{value:t.name,callback:function(e){t.name="string"===typeof e?e.trim():e},expression:"name"}}),n("div",{staticClass:"q-mt-lg"},[t._v("Network")]),t._l(t.nodes,(function(e){return n("q-radio",{key:e.gid,staticClass:"text-capitalize",attrs:{val:e.gid,label:t._f("net")(e.gid)},model:{value:t.gid,callback:function(e){t.gid=e},expression:"gid"}})})),n("q-input",{attrs:{type:"textarea","no-error-icon":"",clearable:"",label:"Mnemonic phrases",hint:"Input the mnemonic phrases and seperated by single space",rules:[function(t){return t&&t.length>0||"Please type your mnemonic phrases"},function(e){return t.checkMnemonic(e)||"Invalid mnemonic"}]},model:{value:t.words,callback:function(e){t.words="string"===typeof e?e.trim():e},expression:"words"}}),n("div",{staticClass:"text-center q-pt-md"},[n("q-btn",{staticClass:"text-capitalize",attrs:{unelevated:"",size:"sm",color:"black",type:"submit",label:"Import"}})],1)],2)],1)],1)],1)},T=[],j=n("e124"),P=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},E=i["a"].extend({data:()=>({name:"",gid:"",words:"",importing:!1}),computed:{nodes(){return this.$state.config.node.list}},created(){this.gid=this.nodes[0].gid},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},ok(t){this.$emit("ok",t),this.hide()},checkMnemonic(t){return j["mnemonic"].validate(t.split(" "))},onImport(){return P(this,void 0,void 0,(function*(){try{const t=yield this.$authenticate(t=>Promise.resolve(t));this.importing=!0;const e=this.words.split(" "),n=yield k["a"].createHD(e,t),i=yield n.derive(0),s={name:this.name,addresses:[i.address]};yield this.$storage.wallets.insert({gid:this.gid,vault:n.encode(),meta:JSON.stringify(s)}),this.ok({}),this.$q.notify(`Wallet ${this.name} was imported`)}catch(t){console.warn(t)}finally{this.importing=!1}}))}}}),I=E,R=Object(u["a"])(I,O,T,!1,null,null,null),N=R.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-carousel",{attrs:{vertical:"","transition-prev":"slide-down","transition-next":"slide-up",animated:""},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[n("q-carousel-slide",{staticClass:"q-pa-none",attrs:{name:"setPin"}},[n("confirmed-pin-code-input",{staticClass:"full-height",on:{fulfilled:function(e){return t.handlePin(e)}}})],1),n("q-carousel-slide",{staticClass:"column flex-center q-pa-none",attrs:{name:"createWallet"}},[t._v("\n        Creating wallet...\n    ")]),n("q-carousel-slide",{staticClass:"column flex-center q-pa-none",attrs:{name:"done"}},[t._v("\n        Congrats!\n        "),n("q-btn",{on:{click:function(e){return t.ok({})}}},[t._v("OK")])],1)],1)},z=[],A=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},B=i["a"].extend({data:()=>({slide:"setPin"}),methods:{handlePin(t){return A(this,void 0,void 0,(function*(){this.slide="createWallet";try{const e=yield k["a"].generateMnemonic(),n=yield k["a"].createHD(e,t),i=yield n.derive(0),s={name:"My Wallet",addresses:[i.address]},r=yield k["a"].shadowPassword(t);yield this.$storage.transaction(()=>A(this,void 0,void 0,(function*(){yield this.$state.config.set("passwordShadow",r),yield this.$storage.wallets.insert({gid:this.$state.config.node.list[0].gid,vault:n.encode(),meta:JSON.stringify(s)})}))),this.slide="done"}catch(e){console.warn(e),alert("something wrong")}}))}}}),L=B,V=Object(u["a"])(L,D,z,!1,null,null,null),M=V.exports,H=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},G=i["a"].extend({components:{Wizard:M},data(){return{drawerOpen:!1}},computed:{isIndexPage(){return"index"===this.$route.name},title(){if("index"===this.$route.name){const t=this.$state.wallet.current;return t?t.meta.name:""}return this.$route.meta.title}},watch:{$route(){this.drawerOpen=!1}},methods:{onClickWallet(t){this.$state.wallet.setCurrentId(t),this.drawerOpen=!1},onClickAddWallet(){this.$actionSheets([{label:"Create Wallet",onClick:()=>{this.onClickCreateWallet()}},{label:"Import Wallet",onClick:()=>{this.onClickImportWallet()}}])},onClickCreateWallet(){this.$q.dialog({component:S,parent:this})},onClickImportWallet(){this.$q.dialog({component:N,parent:this})},onClickMore(){this.$root.$emit("more-"+this.$route.fullPath)}},mounted(){return H(this,void 0,void 0,(function*(){let t=!1;this.$once("hook:beforeDestroy",()=>{t=!0});while(!t)try{const e=new URL(yield y());if("sign"===e.pathname&&!t){const t=e.searchParams.get("rid");this.$router.push({name:"sign",query:{rid:t}})}}catch(e){console.warn(e)}}))}}),W=G,F=Object(u["a"])(W,v,g,!1,null,null,null),J=F.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.wallet?n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[n("div",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider"}],ref:"list",staticClass:"fit row justify-center content-start overflow-auto card-container",attrs:{id:"list"}},[n("q-badge",{directives:[{name:"show",rawName:"v-show",value:t.networkBadgeText,expression:"networkBadgeText"}],staticClass:"q-ma-md z-top text-subtitle2 text-capitalize",attrs:{color:"orange",floating:"",transparent:""}},[t._v(t._s(t.networkBadgeText))]),t._l(t.addresses,(function(e,s){return n("Intersecting",{key:s,staticClass:"card-wrap q-px-md q-py-md",attrs:{root:"list"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.intersecting;return[n("AddressCard",{staticClass:"fit card-shape",attrs:{flat:"",address:e,connex:o?i:void 0,index:s},on:{click:function(e){return t.onClickCard(s)}}})]}}],null,!0)})}))],2)]}}],null,!1,3190375087)}):t._e()},U=[],K=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};const Q=10;var Y=i["a"].extend({computed:{wallet(){return this.$state.wallet.current},node(){return this.$state.config.node.list.find(t=>t.gid===this.wallet.gid)},addresses(){return this.wallet.meta.addresses},networkBadgeText(){const t=this.$options.filters.net(this.wallet.gid);return"main"===t?"":(t||"private")+" net"}},watch:{"wallet.id"(){const t=this.$refs.list;t&&t.scrollTo({top:0,behavior:"auto"})}},methods:{onClickNewAccount(){this.$loading(()=>K(this,void 0,void 0,(function*(){const t=this.wallet,e=t.meta.addresses;if(e.length>=Q)return;const n=yield k["a"].decode(t.vault),i=(yield n.derive(e.length)).address,s=Object.assign(Object.assign({},t.meta),{addresses:[...e,i]});yield this.$storage.wallets.update({id:t.id},{meta:JSON.stringify(s)}),yield new Promise(t=>setTimeout(t,300));const r=this.$refs.list;o["d"].setScrollPosition(r,r.scrollHeight,500)})))},onClickCard(t){this.$router.push({name:"account",query:{wId:this.wallet.id.toString(),i:t.toString()}})},onDelete(){this.$q.dialog({title:"Remove Wallet",message:"Are you sure? this cannot be undone. Unless you have backed up your wallet beforehand",ok:{label:"Remove",flat:!0},cancel:{label:"Cancel"}}).onOk(()=>K(this,void 0,void 0,(function*(){yield this.$authenticate(()=>Promise.resolve()),this.$storage.wallets.delete({id:this.wallet.id})})))},onRename(){this.$q.dialog({title:"Rename",message:"Customize the wallet name can help you easily identify the wallet",prompt:{model:"",isValid:t=>!!t&&!!t.trim(),type:"text"},cancel:!0,ok:!0}).onOk(t=>{this.wallet.meta.name=t,this.$storage.wallets.update({id:this.wallet.id},{meta:JSON.stringify(this.wallet.meta)}).then(()=>{this.$q.notify("Wallet updated")})})},onOpenMore(){const t=this.addresses.length>=Q;this.$actionSheets([{label:"New Account",onClick:t?void 0:()=>this.onClickNewAccount(),classes:t?"text-grey":""},{label:"Backup",onClick:()=>this.$router.push({name:"backup"})},{label:"Rename",onClick:()=>{this.onRename()}},{label:"-"},{label:"Delete",classes:"text-negative",onClick:()=>{this.onDelete()}}])}},created(){const t="more-"+this.$route.fullPath,e=()=>this.onOpenMore();this.$root.$on(t,e),this.$once("hook:beforeDestroy",()=>this.$root.$off(t,e))}}),Z=Y,tt=(n("8041"),n("ad13"),Object(u["a"])(Z,X,U,!1,null,"5783e8ed",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider"}],staticClass:"fit overflow-auto"},[n("h5",{staticClass:"q-ma-none q-pa-md"},[t._v("General")]),n("q-list",[n("q-item",{attrs:{clickable:"",to:{name:"reset-pin-code"}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{color:"primary","text-color":"black"}})],1),n("q-item-section",[n("q-item-label",[t._v("Change Master Code")])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1)],1),n("q-separator",{attrs:{inset:"item"}}),n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{color:"primary","text-color":"black"}})],1),n("q-item-section",[n("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(t.bioPassTypeText))])],1),n("q-item-section",{attrs:{side:""}},[n("q-toggle",{attrs:{color:"green",value:t.bioPassSaved,disable:null===t.bioPassSaved},on:{input:t.toggleBioPass}})],1)],1),n("q-separator",{attrs:{inset:"item"}}),n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{color:"primary","text-color":"black"}})],1),n("q-item-section",[n("q-item-label",{attrs:{lines:"1"}},[t._v("Appearence")])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1)],1),n("q-item",[n("q-item-section",[n("q-item-label",[t._v(" Tokens ")]),n("q-item-label",{attrs:{caption:""}},[t._v(" Selected token will be showing the balance of account balance ")])],1)],1),n("q-item",{attrs:{to:{name:"tokens-setting"}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{color:"primary","text-color":"black"}})],1),n("q-item-section",[n("q-item-label",{attrs:{lines:"1"}},[t._v("Token List")])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"keyboard_arrow_right"}})],1)],1)],1)],1)},it=[];new Promise(t=>{document.addEventListener("deviceready",()=>t(),!1)});var st,rt=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};(function(t){function e(t="main"){return rt(this,void 0,void 0,(function*(){return null}))}t.open=e})(st||(st={}));var ot,at=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},ct=i["a"].extend({data:()=>({bioPassType:null,bioPassSaved:null}),methods:{toggleBioPass(t){return at(this,void 0,void 0,(function*(){const e=yield st.open();if(e){this.bioPassSaved=null;try{t?yield this.$authenticate(t=>e.save(t)):yield e.delete()}catch(n){console.warn(n)}this.bioPassSaved=yield e.saved()}}))}},computed:{bioPassTypeText(){return"face"===this.bioPassType?"Face ID":"Touch ID"}},created(){return at(this,void 0,void 0,(function*(){const t=yield st.open();t&&(this.bioPassType=t.authType,this.bioPassSaved=yield t.saved())}))}}),lt=ct,dt=Object(u["a"])(lt,nt,it,!1,null,null,null),ut=dt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider"}],staticClass:"fit overflow-auto"},[n("async",{attrs:{fn:t.fetchTokenList},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.pending,s=e.error,r=e.reload;return[t.tokens.length>0?n("q-list",[t._l(t.tokens,(function(e,i){return[0!==i?n("q-separator",{key:e.symbol+"s",attrs:{inset:"item"}}):t._e(),n("q-item",{key:e.symbol},[n("q-item-section",{attrs:{avatar:""}},[n("q-avatar",{attrs:{square:"",size:"md"}},[n("q-img",{attrs:{src:e.icon}})],1)],1),n("q-item-section",[n("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(e.symbol))]),n("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.name))])],1),n("q-item-section",{attrs:{side:""}},[n("q-toggle",{attrs:{color:"green",val:e.symbol},model:{value:t.activeTokens,callback:function(e){t.activeTokens=e},expression:"activeTokens"}})],1)],1)]}))],2):[i?n("q-inner-loading",{attrs:{showing:""}}):s?n("div",{staticClass:"fit column flex-center"},[n("p",[t._v("Something wrong")]),n("q-btn",{on:{click:r}},[t._v("Refresh")])],1):t._e()]]}}])})],1)},ft=[],mt=n("c6ec"),pt=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},vt=i["a"].extend({data(){return{activeTokens:[]}},created(){this.activeTokens=Array.from(new Set(this.$state.config.token.active))},beforeDestroy(){return pt(this,void 0,void 0,(function*(){yield this.$state.config.set("activeTokens",JSON.stringify(this.activeTokens))}))},computed:{tokens(){return this.$state.config.token.list.map(t=>Object.assign(Object.assign({},t),{icon:`${mt["d"].tokenRegistry}assets/${t.icon}`}))}},methods:{fetchTokenList(){return this.$state.config.token.fetch()}}}),gt=vt,bt=Object(u["a"])(gt,ht,ft,!1,null,null,null),yt=bt.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.words&&t.words.length?n("div",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider"}],staticClass:"fit overflow-auto"},[n("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"500px"}},[1===t.step?[n("div",{staticClass:"q-px-lg"},[n("span",{staticClass:"text-subtitle2 q-py-sm"},[t._v("Backup mnemonic")]),n("div",{staticClass:"text-body2 text-grey q-py-sm"},[t._v("\n                    "+t._s("These "+t.words.length+" words are used to recover your wallet. Please write down in order and keep it in a secure place.")+"\n                ")])]),n("div",{staticClass:"row justify-around q-pt-lg "},t._l(t.words,(function(e,i){return n("div",{key:i,staticClass:"col-4 text-center q-my-sm serif"},[n("span",{staticClass:"text-grey"},[t._v(t._s(i+1)+".")]),n("span",{staticClass:"text-weight-medium"},[t._v(t._s(e))])])})),0)]:t._e(),2===t.step?[t._m(0),n("div",{staticClass:"q-px-lg"},[t._l(t.verifyRowNum,(function(e){return n("div",{key:e,staticClass:"row q-px-lg q-py-sm q-col-gutter-sm rounded-borders bg-grey-2"},t._l(t.groupSize,(function(i){return n("div",{key:i,staticClass:"col-4 text-center"},[n("span",{staticClass:"text-grey"},[t._v(t._s(i+t.groupSize*(e-1))+".")]),n("span",{staticClass:"serif"},[t._v(t._s(t.words[i-1+t.groupSize*(e-1)]))])])})),0)})),t.verifyRowNum<t.words.length/t.groupSize?n("div",{staticClass:"row q-mt-sm q-px-lg q-py-sm q-col-gutter-sm rounded-borders ",class:t.isError?"bg-deep-orange-2":"bg-grey-2"},t._l(t.groupSize,(function(e){return n("div",{key:e,staticClass:"col-4 text-center"},[n("span",{staticClass:"text-grey"},[t._v(t._s(e+t.groupSize*t.verifyRowNum)+".")]),n("span",{staticClass:"serif"},[t._v(t._s(t.verifyingItems&&t.words[t.verifyingItems[e-1]]))])])})),0):t._e()],2),t.verifyRowNum<t.words.length/t.groupSize?n("div",{staticClass:"absolute row justify-center q-pa-md q-col-gutter-md",staticStyle:{bottom:"0"}},t._l(t.nextGroupIndex,(function(e,i){return n("div",{key:i,staticClass:"col-4 text-center"},[n("q-btn",{staticClass:"text-lowercase serif rounded-borders",staticStyle:{width:"100%"},attrs:{size:"md"},on:{click:function(n){return t.onCheck(e)}}},[t._v(t._s(t.words[e]))])],1)})),0):t._e()]:t._e(),3===t.step?[n("div",{staticClass:"q-pa-lg"},[n("div",{staticClass:"q-pl-sm q-pb-md"},[n("q-icon",{attrs:{size:"50px",name:"verified_user"}})],1),n("span",{staticClass:"text-h4"},[t._v("Your wallet is now backed up")]),n("div",{staticClass:"text-body2 text-grey q-py-md"},[t._v("\n                    The mnemonic words stores all the information that is needed at any point in time to recover your wallet.\n                ")]),t._m(1)])]:t._e(),n("div",{staticClass:"justify-center q-mt-lg"},[n("div",{staticClass:"col-8 text-center"},[1===t.step?n("q-btn",{staticClass:"text-capitalize",attrs:{label:"I've written it down",color:"black"},on:{click:t.onNext}}):t._e(),3===t.step?n("q-btn",{staticClass:"text-capitalize",attrs:{label:"Done",color:"black"},on:{click:function(e){return t.$router.back()}}}):t._e()],1)])],2)]):t._e()},wt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-px-md"},[n("span",{staticClass:"text-subtitle2 q-py-sm"},[t._v("Confirm your mnemonic words")]),n("div",{staticClass:"text-body2 text-grey q-py-sm"},[t._v("\n                    Please choose mnemonic words in order and make sure your written mnemonic was correct written.\n                ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-body2 text-grey q-py-sm"},[t._v("\n                    The mnemonic words should be "),n("strong",{staticClass:"text-black"},[t._v("stored in a secure place")]),t._v(". It ensures you have had a backup in a scenario where your device breaks down or becomes unusable due to any reason.\n                ")])}],kt=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},qt=i["a"].extend({data:()=>({words:null,step:1,verifyRowNum:0,verifyingItems:null,isError:!1,groupSize:3}),computed:{wallet(){return this.$state.wallet.current},nextGroupIndex(){const t=this.verifyRowNum*this.groupSize,e=[];for(let n=0;n<this.groupSize;n++)e.push(Math.floor(Math.random()*this.words.length));return[...this.words.map((t,e)=>e).slice(t,t+this.groupSize),...e].map(t=>({v:t,order:Math.random()})).sort((t,e)=>t.order-e.order).map(t=>t.v)}},created(){return kt(this,void 0,void 0,(function*(){try{const t=yield k["a"].decode(this.wallet.vault),e=yield this.$authenticate(t=>Promise.resolve(t)),n=yield t.decrypt(e);this.words=n.split(" ")}catch(t){console.warn(t),this.$router.back()}}))},methods:{onNext(){this.step++},onBack(){this.step--},onCheck(t){if(this.verifyingItems&&3!==this.verifyingItems.length||(this.verifyingItems=[],this.isError=!1),this.verifyingItems.push(t),3===this.verifyingItems.length){const t=this.verifyingItems.map(t=>this.words[t]).join(""),e=this.groupSize*this.verifyRowNum,n=this.words.slice(e,this.groupSize+e).join("");t===n?(this.verifyRowNum++,this.verifyingItems=[],8===this.verifyRowNum&&this.step++):this.isError=!0}}}}),_t=qt,Ct=Object(u["a"])(_t,xt,wt,!1,null,null,null),$t=Ct.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit column no-wrap"},[n("div",{staticClass:"q-mx-lg column"},[n("AddressInfo",{attrs:{address:t.address}},[t._v(" "+t._s(t.wallet.meta.name+" #"+(t.addressIndex+1))+" ")])],1),n("div",{staticClass:"q-px-lg row items-center justify-between"},[n("span",{staticClass:"text-subtitle1"},[t._v(" Assets ")]),n("q-btn",{attrs:{label:"Manage",to:{name:"tokens-setting"},flat:"",rounded:""}})],1),n("div",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider.both",modifiers:{both:!0}}],staticClass:"q-px-xs column scroll"},[n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[n("BalanceList",{attrs:{connex:i,address:t.address,tokens:t.tokenList,selectabel:""},on:{select:t.tokenSelect}})]}}])})],1),n("div",{staticClass:"row align-center justify-center q-gutter-md q-pb-lg q-pt-md q-mt-auto"},[n("q-btn",{staticClass:"col-4 justify-center",attrs:{label:"Send"},on:{click:t.onSend}}),n("ReceiveDialog",{staticClass:"col-4 justify-center",attrs:{address:t.address}})],1)])},Ot=[],Tt=n("548a"),jt=i["a"].extend({data(){return{showType:!1}},props:{wId:String,i:String},computed:{wallet(){return this.$state.wallet.list.find(t=>t.id===parseInt(this.wId,10))},tokenList(){return this.$state.config.token.specs(this.wallet.gid,!0)},node(){return this.$state.config.node.list.find(t=>t.gid===this.wallet.gid)},addressIndex(){return parseInt(this.i,10)},address(){return this.wallet.meta.addresses[parseInt(this.i,10)]}},methods:{tokenSelect(t){this.$router.push({name:"account-transfer-logs",query:{wId:this.wId,i:this.i,symbol:t}})},onSend(){this.$router.push({name:"send",query:{wId:this.wId,i:this.i,defaultSymbol:""}})},tokenBalanceOf:Tt["b"]}}),Pt=jt,Et=Object(u["a"])(Pt,St,Ot,!1,null,null,null),It=Et.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit column flex-center"},[n("async",{attrs:{fn:t.resolveRelayedRequest},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data,s=e.error,r=e.pending,o=e.reload;return[n("q-avatar",{directives:[{name:"show",rawName:"v-show",value:!!i,expression:"!!data"}],attrs:{square:"",size:"lg"}},[n("q-img",{attrs:{src:t.favicon}})],1),r?n("div",[t._v("\n            resolving input...\n        ")]):t._e(),s?[n("div",[t._v("\n                error: "+t._s(s)+"\n            ")]),n("q-btn",{on:{click:o}},[t._v("Reload")])]:t._e(),i?[n("div",[t._v(" origin: "+t._s(t.origin))]),n("div",[t._v(" type: "+t._s(i.type))]),t.relayedResponse?t._e():n("q-btn",{on:{click:function(e){return t.signRelayedRequest(i)}}},[t._v("Proceed")])]:t._e()]}}])}),t.relayedResponse?n("async",{attrs:{fn:t.handleRelayedResponse},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.pending;return[i?n("div",[t._v("submitting response...")]):n("q-btn",{on:{click:t.finish}},[t._v("Done")])]}}],null,!1,128835282)}):t._e()],1)},Nt=[],Dt=n("2fea"),zt=n("4ade"),At=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};(function(t){t.scheme={type:t=>"tx"===t||"cert"===t?"":`unsupported type '${t}'`,gid:t=>!t||/^0x[0-9a-f]{64}$/i.test(t)?"":`invalid gid '${t}'`,payload:{message:t=>t instanceof Object?"":"message requires object type",options:t=>t instanceof Object?"":"options requires object type"}}})(ot||(ot={}));var Bt=i["a"].extend({props:{rid:String},data:()=>({origin:"",relayedResponse:null}),computed:{favicon(){return`${mt["d"].tos}${this.rid}/icon?size=48..96..128`},domain(){try{return new URL(this.origin).host}catch(t){return""}}},methods:{resolveRelayedRequest(){return At(this,void 0,void 0,(function*(){const t=yield this.$axios.get(mt["d"].tos+this.rid,{transformResponse:t=>t}),e=Object(zt["blake2b256"])(t.data).toString("hex");if(e!==this.rid)throw new Error("id and content mismatch");const n=Dt["validate"](JSON.parse(t.data),ot.scheme);return this.origin=t.headers["x-data-origin"],n}))},signRelayedRequest(t){return At(this,void 0,void 0,(function*(){const{type:e,gid:n,payload:i}=t,s={};try{"tx"===e?s.payload=yield this.$signTx(n||"",i):"cert"===e&&(s.payload=yield this.$signCert(n||"",Object.assign(Object.assign({},i),{domain:this.domain})))}catch(r){s.error=r}this.relayedResponse=s}))},handleRelayedResponse(){return At(this,void 0,void 0,(function*(){for(let e=0;e<3;e++)try{return void(yield this.$axios.post(mt["d"].tos+this.rid+"-resp",this.relayedResponse))}catch(t){console.warn(t)}}))},finish(){this.$stack.canGoBack?this.$router.back():this.$router.replace({name:"index"})}}}),Lt=Bt,Vt=Object(u["a"])(Lt,Rt,Nt,!1,null,null,null),Mt=Vt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n    This is the activities page\n")])},Gt=[],Wt=i["a"].extend({}),Ft=Wt,Jt=Object(u["a"])(Ft,Ht,Gt,!1,null,null,null),Xt=Jt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("ConfirmedPinCodeInput",{staticClass:"full-height",on:{fulfilled:function(e){return t.handlePin(e)}}}):t._e()},Kt=[],Qt=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},Yt=i["a"].extend({data(){return{show:!1,oldPin:""}},created(){return Qt(this,void 0,void 0,(function*(){try{this.oldPin=yield this.$authenticate(t=>Promise.resolve(t)),this.show=!0}catch(t){this.$router.back()}}))},methods:{handlePin(t){return Qt(this,void 0,void 0,(function*(){yield this.$loading(()=>Qt(this,void 0,void 0,(function*(){try{yield this.updateDB(t),this.$q.notify({type:"positive",message:"Master code changed.",timeout:1500})}catch(e){console.log(e),this.$q.notify({type:"warning",message:"Something wrong!",timeout:1500})}finally{this.$router.back()}})))}))},updateDB(t){return Qt(this,void 0,void 0,(function*(){yield this.$storage.transaction(()=>Qt(this,void 0,void 0,(function*(){const e=yield this.$storage.wallets.all().query(),n=yield this.$storage.waitFor(k["a"].shadowPassword(t));yield this.$storage.configs.update({key:"passwordShadow"},{value:n});for(let i=0;i<e.length;i++){const n=e[i],s=yield this.$storage.waitFor(k["a"].decode(n.vault)),r=yield this.$storage.waitFor(s.decrypt(this.oldPin)),o=yield this.$storage.waitFor(k["a"].createHD(r.split(" "),t));yield this.$storage.wallets.update({id:n.id},{vault:o.encode()})}})))}))}}}),Zt=Yt,te=Object(u["a"])(Zt,Ut,Kt,!1,null,null,null),ee=te.exports,ne=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit column no-wrap"},[n("div",{staticClass:"q-mx-lg"},[n("AddressInfo",{attrs:{address:t.address}},[t._v(" "+t._s(t.wallet.meta.name+" #"+(t.addressIndex+1))+" ")])],1),n("div",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider"}],staticClass:"scroll"},[n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[i?n("Logs",{attrs:{connex:i,address:t.address,tokens:t.tokens,pageSize:20}}):t._e()]}}])})],1)])},ie=[],se=i["a"].extend({props:{wId:String,i:String,symbol:String},computed:{wallet(){return this.$state.wallet.list.find(t=>t.id===parseInt(this.wId,10))},node(){return this.$state.config.node.list.find(t=>t.gid===this.wallet.gid)},tokens(){const t=[...this.$state.config.token.specs(this.wallet.gid,!0),mt["c"].VTHO].find(t=>t.symbol===this.symbol);return t?[t]:null},addressIndex(){return parseInt(this.i,10)},address(){return this.wallet.meta.addresses[parseInt(this.i,10)]}},methods:{}}),re=se,oe=Object(u["a"])(re,ne,ie,!1,null,null,null),ae=oe.exports,ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fit no-wrap"},[t.txInfo?n("div",{staticClass:"q-px-md column fit"},[n("div",{staticClass:" text-center"},[n("q-icon",{attrs:{size:"50px",name:"check_circle_outline",color:"green"}})],1),n("div",{staticClass:" text-center text-h6 q-mt-md"},[t._v("You've signed the Transaction")]),n("div",{staticClass:" text-center text-body2 text-grey q-my-md"},[t._v("It may take a while to see the transaction on the blockchain. You can always check the detail via activity")]),n("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-item-label",{staticClass:"text-grey"},[t._v("TxID")])],1),n("q-item-section",{staticClass:"text-caption",staticStyle:{"word-break":"break-all"}},[n("span",[t._v("\n                        "+t._s(t.txInfo.id)+"\n                        "),n("q-icon",{attrs:{name:"content_copy"},on:{click:t.onCopy}})],1)])],1),n("q-item",[n("q-item-section",{attrs:{avatar:""}},[n("q-item-label",{staticClass:"text-grey"},[t._v("Detail")])],1),n("q-item-section",{staticClass:"text-caption"},[n("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(t.txInfo.comment))])],1)],1)],1),n("q-btn",{staticClass:"q-mx-auto q-mt-auto q-mb-xl q-px-xl",attrs:{color:"primary",label:"Done"},on:{click:function(e){return t.$router.go(-1)}}})],1):n("div",{staticClass:"q-mx-auto",staticStyle:{"max-width":"500px"}},[n("q-form",{staticClass:"q-px-md",on:{submit:t.onSend}},[n("q-input",{attrs:{"no-error-icon":"",autocomplete:"off",clearable:"",rules:[function(e){return t.isAddress(e)||"Please type a valid address"}],label:"To:"},scopedSlots:t._u([t.isAddress(t.to)?{key:"prepend",fn:function(){return[n("AddressAvatar",{staticClass:"q-mx-auto",staticStyle:{width:"40px",height:"40px","border-radius":"20px"},attrs:{addr:t.to}})]},proxy:!0}:null],null,!0),model:{value:t.to,callback:function(e){t.to=e},expression:"to"}}),n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[n("TokenSelector",{attrs:{connex:i,address:t.from,tokens:t.tokenSpecs},model:{value:t.symbol,callback:function(e){t.symbol=e},expression:"symbol"}}),n("q-input",{attrs:{"no-error-icon":"",autocomplete:"off",clearable:"",type:"text",rules:[t.balanceCheck],inputmode:"decimal",label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),n("connex-continuous",{key:t.symbol,attrs:{connex:i,query:function(){return t.query(i)}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[n("div",{staticClass:"text-grey q-mt-sm"},[n("span",[t._v("balance: "+t._s(t._f("balance")(i,t.currentToken.decimals)))])])]}}],null,!0)})]}}],null,!1,3646602698)}),n("q-btn",{staticClass:"full-width q-mt-xl",attrs:{type:"submit",dark:""}},[t._v("Send")])],1)],1)])},le=[],de=n("7880"),ue=n("b446"),he=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},fe=i["a"].extend({props:{wId:String,i:String,defaultSymbol:String},data(){return{to:"",amount:"",symbol:this.defaultSymbol||"VET",amountError:"",txInfo:null}},computed:{wallet(){return this.$state.wallet.list.find(t=>t.id===parseInt(this.wId,10))},addressIndex(){return parseInt(this.i,10)},gid(){return this.wallet.gid},from(){return this.wallet.meta.addresses[parseInt(this.i,10)]},node(){return this.$state.config.node.list.find(t=>t.gid===this.gid)},tokenSpecs(){return[...this.$state.config.token.specs(this.gid,!0)]},currentToken(){return"VET"===this.symbol?mt["c"].VET:"VTHO"===this.symbol?mt["c"].VTHO:this.tokenSpecs.find(t=>this.symbol===t.symbol)},balanceCheck(){const t=new RegExp(`^(([1-9]{1}\\d*)|(0{1}))(\\.\\d{1,${this.currentToken.decimals}})?$`);return e=>t.test(e)||"Invalide balance"},query(){return["VET","VTHO"].includes(this.symbol)?t=>he(this,void 0,void 0,(function*(){const e=yield t.thor.account(this.from).get();return"VET"===this.symbol?e.balance:e.energy})):t=>this.tokenBalanceOf(t,this.from,this.currentToken)}},methods:{isAddress:de["isAddress"],tokenBalanceOf:Tt["b"],onSend(){let t,e="";if("VET"===this.symbol)e=`Transferring ${this.amount} VET`,t={to:this.to,value:i["a"].filter("toWei")(this.amount),comment:e};else{const n=new ue["abi"].Function(mt["a"].transfer);e=`Transferring ${this.amount} ${this.symbol}`;const s=n.encode(this.to,i["a"].filter("toWei")(this.amount,this.currentToken.decimals));t={to:this.currentToken.address,value:0,data:s,comment:e}}this.$signTx(this.gid,{message:[t],options:{signer:this.from,comment:e}}).then(t=>{this.txInfo={id:t.txid,comment:e}})},onCopy(){Object(o["b"])(this.txInfo.id).then(()=>{this.$q.notify("copied")}).catch(console.error)}}}),me=fe,pe=Object(u["a"])(me,ce,le,!1,null,null,null),ve=pe.exports;const ge=[{path:"/",component:J,children:[{path:"",name:"index",component:et,meta:{title:"Sync",hasMenu:!0}},{path:"settings",name:"settings",component:ut,meta:{title:"Settings"}},{path:"tokens-setting",name:"tokens-setting",component:yt,meta:{title:"Tokens"}},{path:"backup",name:"backup",component:$t,meta:{title:"Backup"}},{path:"account",name:"account",component:It,meta:{title:"Account"}},{path:"sign",name:"sign",component:Mt,meta:{title:"Sign",noTransitionIn:!0,noTransitionOut:!0}},{path:"activities",name:"activities",component:Xt,meta:{title:"Activities"}},{path:"reset-pin-code",name:"reset-pin-code",component:ee,meta:{title:"Change Master Code"}},{path:"account-transfer-logs",name:"account-transfer-logs",component:ae,beforeEnter(t,e,n){t.meta.title=t.query.symbol,n()},meta:{title:""}},{path:"send",name:"send",component:ve,meta:{title:"Send Assets"}}]}];ge.push({path:"*",component:()=>n.e(3).then(n.bind(null,"e51e"))});var be=ge,ye=n("6ec1"),xe=Object(m["route"])((function({Vue:t}){t.use(p["a"]);const e=new p["a"]({scrollBehavior:()=>({x:0,y:0}),routes:be,mode:"hash",base:""});return t.use(ye["a"],{router:e}),e})),we=async function(){const t="function"===typeof xe?await xe({Vue:i["a"]}):xe,e={router:t,render:t=>t(f),el:"#q-app"};return{app:e,router:t}},ke={failed:"Action failed",success:"Action was successful"},qe={"en-us":ke},_e=n("a925");i["a"].use(_e["a"]);const Ce=new _e["a"]({locale:"en-us",fallbackLocale:"en-us",messages:qe});var $e=Object(m["boot"])(({app:t})=>{t.i18n=Ce}),Se=n("bc3a"),Oe=n.n(Se),Te=Object(m["boot"])(({Vue:t})=>{t.prototype.$axios=Oe.a}),je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{directives:[{name:"touch-pan",rawName:"v-touch-pan.right.mouse.prevent",value:t.shouldHandlePan?t.handleTouchPan:void 0,expression:"shouldHandlePan? handleTouchPan: undefined",modifiers:{right:!0,mouse:!0,prevent:!0}}],class:{"stack--disable-pointer-events":t.transiting},on:{"!mousedown":function(e){return t.testTouchPan(e)},"!touchstart":function(e){return t.testTouchPan(e)}}},[t._l(t.stack,(function(e,i){return n("div",{key:e.fullPath,ref:"views",refInFor:!0,staticClass:"absolute-full bg-white",class:t.viewClasses(i)},[n(e.component,t._b({tag:"component"},"component",t.entryToBinds(e),!1))],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:t.panning||t.transiting,expression:"panning||transiting"}],ref:"backdrop",staticClass:"absolute-full stack-backdrop"}),n("q-resize-observer",{on:{resize:t.onResize}})],2)},Pe=[],Ee=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function Ie(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Re(t){const e=window.getComputedStyle(t);let n=(e.transitionDelay||"").split(", ");const i=(e.transitionDuration||"").split(", ");while(n.length<i.length)n=n.concat(n);return Math.max.apply(null,i.map((t,e)=>Ie(t)+Ie(n[e])))}function Ne(t){let e=()=>{};const n=new Promise(n=>{const i=e=>{e&&e.target!==t||e&&!e.propertyName.endsWith("transform")||n()};t.addEventListener("transitionend",i),e=()=>t.removeEventListener("transitionend",i)}),i=new Promise(e=>setTimeout(e,Re(t)+1));return Promise.race([n,i]).then(()=>e())}function De(){let t;return{run(e){const n=t;return t=(()=>Ee(this,void 0,void 0,(function*(){yield n;try{yield e()}catch(t){console.warn(t)}})))(),t}}}function ze(){let t=0,e=0,n=0;return{update(i,s){t=e,e=i,n=s},get velocity(){return n/(e-t)}}}var Ae=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},Be=i["a"].extend({data:()=>({stack:[],width:0,panning:!1,transiting:!1,panRatio:0,transitionMul:1,shouldHandlePan:!1,velometer:ze(),pipeline:De(),touchPanInitOffset:0}),computed:{animatedViews(){this.stack;const t=this.$refs.views;return[t[t.length-1],t[t.length-2],this.$refs.backdrop]}},created(){this.stack=this.$stack.scoped},methods:{transit(t){return Ae(this,void 0,void 0,(function*(){this.transiting=!0,void 0!==t.r1&&(this.panRatio=t.r1),yield this.$nextTick(),document.body.classList.add("stack-body--prevent-scroll");const e=this.animatedViews;e.forEach(t=>t.classList.add("stack-transition")),void 0!==t.r2&&(this.panRatio=t.r2),yield Promise.all(e.map(t=>Ne(t))),e.forEach(t=>t.classList.remove("stack-transition")),document.body.classList.remove("stack-body--prevent-scroll"),this.transitionMul=1,void 0!==t.r3&&(this.panRatio=t.r3),this.transiting=!1}))},onResize(t){t.width>0&&(this.width=t.width)},viewClasses(t){const e={};return t===this.stack.length-1?e["stack-v1"]=!0:t===this.stack.length-2?(e["stack-v2"]=!0,e.hidden=!this.panning&&!this.transiting):e.hidden=!0,e},testTouchPan(t){const e=(t.targetTouches?t.targetTouches[0].clientX:t.clientX)-this.$el.getBoundingClientRect().x;this.shouldHandlePan=e>=0&&e<64&&this.stack.length>1},handleTouchPan(t){t.isFirst&&(document.body.classList.add("stack-body--prevent-scroll"),this.panning=!0,this.touchPanInitOffset=t.offset.x);const e=Math.max(0,t.offset.x-this.touchPanInitOffset),n=Math.max(1,this.width);if(t.isFinal){this.panning=!1;const t=this.velometer.velocity,i=e>n/2&&t>=0||t>.3;i?(this.transitionMul=.4,this.pipeline.run(()=>this.transit({r2:1,r3:0})).then(()=>{this.stack.pop(),this.$router.back()})):(this.transitionMul=.6,this.pipeline.run(()=>this.transit({r2:0})))}else{const t=e/n;this.panRatio=t}this.velometer.update(t.duration,t.delta.x)},entryToBinds(t){const e={},n=/^[a-z][a-z0-9]*$/i;for(const i of Object.entries(t.query))n.test(i[0])&&(e[i[0]]=(i[1]||"").toString());for(const i of Object.entries(t.params))n.test(i[0])&&(e[i[0]]=i[1]);return e}},watch:{width(t){this.$el.style.setProperty("--stack-container-width",""+t)},panRatio(t){this.$el.style.setProperty("--stack-pan-ratio",""+t)},transitionMul(t){this.$el.style.setProperty("--stack-transition-mul",""+t)},"$stack.scoped"(t,e){this.pipeline.run(()=>Ae(this,void 0,void 0,(function*(){if(t.length>e.length&&t.length>1){this.stack=t;const e=t[t.length-1];e.query["no-transition-in"]||e.meta.noTransitionIn||(yield this.transit({r1:1,r2:0}))}else if(t.length<e.length&&t.length>0){const e=this.stack[this.stack.length-1];e.query["no-transition-out"]||e.meta.noTransitionOut||(yield this.transit({r2:1,r3:0})),this.stack=t}else this.stack=t})))}}}),Le=Be,Ve=(n("09bb"),Object(u["a"])(Le,je,Pe,!1,null,null,null)),Me=Ve.exports,He=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",t._g(t._b({staticClass:"bg-transition",style:Object.assign({},t.background)},"q-card",t.$attrs,!1),t.$listeners),[n("ConnexContinuous",{attrs:{connex:t.connex,query:function(){return t.connex.thor.account(t.address).get()}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[n("q-card-section",{staticClass:"text-white column no-wrap full-height overflow-hidden"},[n("div",{staticClass:"text-right"},[n("span",{staticClass:"text-h6 text-weight-regular"},[t._v(t._s(t._f("balance")(i?i.balance:null)))]),n("span",{staticClass:"monospace text-caption"},[t._v(" VET ")])]),n("div",{staticClass:"text-right"},[n("span",{staticClass:"text-h6 text-weight-regular"},[t._v(t._s(t._f("balance")(i?i.energy:null)))]),n("span",{staticClass:"monospace text-caption"},[t._v(" VTHO")])]),n("q-space"),n("div",{staticClass:"row items-baseline"},[n("span",{staticClass:"index"},[t._v(t._s(t.index+1))]),n("span",{staticClass:"monospace text-overline"},[t._v(t._s(t._f("abbrev")(t._f("checksum")(t.address),8,6)))]),n("q-space"),n("div",{staticClass:"logo inline-block"})],1)],1)]}}])}),n("q-resize-observer",{on:{resize:t.onResize}})],1)},Ge=[],We=n("02d3"),Fe=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function Je(t){const e=400;return new Promise((n,i)=>{const s=new Image;s.onload=()=>{const t=document.createElement("canvas");t.setAttribute("width",e.toString()),t.setAttribute("height",e.toString());const r=t.getContext("2d");if(!r)return i(new Error("failed to get 2d context"));r.drawImage(s,0,0,e,e),r.globalCompositeOperation="soft-light";const o=r.createLinearGradient(0,0,e,e);o.addColorStop(0,"lightgray"),o.addColorStop(1,"black"),r.fillStyle=o,r.fillRect(0,0,e,e),t.toBlob(t=>{n(URL.createObjectURL(t))})},s.onerror=t=>i(t),s.src="data:image/svg+xml;utf8,"+t})}const Xe=new Map;var Ue=i["a"].extend({props:{address:String,index:Number,connex:Object},data:()=>({height:0}),computed:{svg(){return Object(We["picasso"])(this.address)}},asyncComputed:{background(){return Fe(this,void 0,void 0,(function*(){const t=this.address;if(!t)return{background:"none"};let e=Xe.get(t);if(!e){const n=Object(We["picasso"])(t);e=Je(n),Xe.set(t,e)}return{background:`url('${yield e}') 0% 0% / cover no-repeat`}}))}},methods:{onResize(t){t.height>0&&(this.height=t.height)}}}),Ke=Ue,Qe=(n("2afb"),Object(u["a"])(Ke,He,Ge,!1,null,"7f70aacc",null)),Ye=Qe.exports,Ze=n("198f"),tn=n("b17c"),en=n("9c14"),nn=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function sn(t){let e;const n=(()=>nn(this,void 0,void 0,(function*(){const n=new en["SimpleNet"](t.url),i=yield n.http("GET","blocks/0");if(i.id!==t.gid)throw new Error("genesis id mismatch");e=new tn["DriverNoVendor"](n,i);try{const t=new Ze["Framework"](e),n=()=>nn(this,void 0,void 0,(function*(){const e=t.thor.ticker();while(0===t.thor.status.head.number)yield e.next()}));return yield Promise.race([n(),new Promise(t=>setTimeout(t,2e4)).then(()=>{throw new Error("timeout to init connex")})]),t}catch(s){throw e.close(),s}})))();return{connexPromise:n,destroy:()=>{e&&e.close()},refCount:0}}const rn={};function on(t){return nn(this,void 0,void 0,(function*(){t=Object.assign({},t);const e=`${t.gid}|${t.url}`;let n=rn[e];n||(n=sn(t),rn[e]=n);try{const t=yield n.connexPromise;n.refCount++,n.timer&&(clearTimeout(n.timer),n.timer=void 0);let i=!1;return{connex:t,release:()=>{if(i)throw new Error("connexRef is already released");i=!0,n.refCount--,0===n.refCount&&(n.timer=setTimeout(()=>{delete rn[e],n.destroy()},6e4))}}}catch(i){throw delete rn[e],n.destroy(),i}}))}var an=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},cn=i["a"].extend({props:{tag:String,node:{type:Object}},data:()=>({connexRef:null,error:null}),methods:{initConnex(){return an(this,void 0,void 0,(function*(){if(this.connexRef&&this.connexRef.release(),this.connexRef=null,this.error=null,!this.node||!this.node.gid||!this.node.url)return;const t=Object.assign({},this.node),e=()=>!this.node||t.gid!==this.node.gid||t.url!==this.node.url;do{try{const n=yield on(t);e()?n.release():(this.connexRef=n,this.error=null,this.$emit("ready",n.connex));break}catch(n){e()||(this.error=n,this.$emit("error",n),yield new Promise(t=>setTimeout(t,1e4)))}}while(!e())}))}},watch:{node:{handler(){this.initConnex()},deep:!0}},created(){this.initConnex()},beforeDestroy(){this.connexRef&&this.connexRef.release(),this.connexRef=null},render(t){const e=this.$scopedSlots.default,n=(e?e({connex:this.connexRef?this.connexRef.connex:null,error:this.error}):[])||[];return n.length>1?t(this.tag||"fragment",n):n[0]}}),ln=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function dn(t,e){const n={abort:!1,onNext:null,onError:null};return(()=>{ln(this,void 0,void 0,(function*(){const i=t.thor.ticker();while(!n.abort){try{const t=yield e();n.abort||n.onNext&&n.onNext(t)}catch(s){n.abort||n.onError&&n.onError(s)}yield i.next()}}))})(),{next(t){return n.onNext=t,this},error(t){return n.onError=t,this},stop(){n.abort=!0}}}var un=i["a"].extend({props:{tag:String,connex:{type:Object},query:{type:Function}},data:()=>({data:null,lastData:null,error:null,session:null}),methods:{stop(){this.session&&this.session.stop(),this.session=null},start(){this.stop(),this.lastData=this.data,this.data=null,this.error=null,this.connex&&this.query&&(this.session=dn(this.connex,this.query).next(t=>{this.lastData=this.data,this.data=t,this.$emit("data",t)}).error(t=>{this.error=t,this.$emit("error",t)}))}},watch:{connex(){this.start()},query(){this.start()}},created(){this.start()},beforeDestroy(){this.stop()},render(t){const e=this.$scopedSlots.default,n=(e?e({data:this.data,lastData:this.lastData,error:this.error}):[])||[];return n.length>1?t(this.tag||"fragment",n):n[0]}}),hn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row flex-center no-wrap"},t._l(t.len,(function(e,i){return n("div",{key:i,staticClass:"code q-ma-xs",class:{filled:i<t.code.length}})})),0)},fn=[];const mn=["1","2","3","4","5","6","7","8","9","0"];var pn=i["a"].extend({props:{value:String,len:{default:6}},data:()=>({code:""}),model:{prop:"value",event:"input"},watch:{code(t){t.length===this.len&&this.$emit("fulfilled",t)},value:{handler(t){this.code=t.split("").filter(t=>mn.includes(t)).join("").slice(0,this.len),t!==this.code&&this.$emit("input",this.code)},immediate:!0}}}),vn=pn,gn=(n("145f"),Object(u["a"])(vn,hn,fn,!1,null,"4185f7d8",null)),bn=gn.exports,yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column no-wrap items-center no-border no-outline",attrs:{tabindex:"0"},on:{"!keydown":function(e){return t.handleKeyDown(e)}}},[n("q-carousel",{staticClass:"col full-width",attrs:{animated:"","transition-prev":"slide-right","transition-next":"slide-left"},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[n("q-carousel-slide",{staticClass:"column flex-center",attrs:{name:"a"}},[n("p",[t._v("Input new pin code")]),n("pin-code",{on:{fulfilled:t.handlePinA},model:{value:t.code.a,callback:function(e){t.$set(t.code,"a",e)},expression:"code.a"}}),n("p",{class:{invisible:!t.mismatch}},[t._v("Mismatched")])],1),n("q-carousel-slide",{staticClass:"column flex-center",attrs:{name:"b"}},[n("p",[t._v("Confirm the new pin code")]),n("pin-code",{on:{fulfilled:t.handlePinB},model:{value:t.code.b,callback:function(e){t.$set(t.code,"b",e)},expression:"code.b"}}),n("p",{staticClass:"invisible"},[t._v("placeholder")])],1)],1),n("digit-keypad",{class:{"full-width":t.$q.screen.xs}})],1)},xn=[],wn=i["a"].extend({data:()=>({code:{a:"",b:""},slide:"a",mismatch:!1}),watch:{"code.a"(t){t&&(this.mismatch=!1)}},methods:{handlePinA(){this.slide="b"},handlePinB(){this.code.a===this.code.b?this.$emit("fulfilled",this.code.a):(this.code.a=this.code.b="",this.slide="a",this.mismatch=!0)},handleKeyDown(t){const{key:e}=t;"Del"===e||"Delete"===e||"Backspace"===e?this.code[this.slide]=this.code[this.slide].slice(0,-1):1===e.length&&(this.code[this.slide]+=e)}},mounted(){this.$el.focus()}}),kn=wn,qn=Object(u["a"])(kn,yn,xn,!1,null,null,null),_n=qn.exports,Cn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"container",staticClass:"row no-wrap slide-container overflow-scroll",on:{scroll:t.onScrolled}},[t._l(t.count,(function(e,i){return n("div",{key:i,staticClass:"slide-item col-12"},[t._t("default",null,{index:i,active:t.isActive(i)})],2)})),n("q-resize-observer",{attrs:{debounce:0},on:{resize:t.onResize}})],2)},$n=[],Sn=i["a"].extend({props:{value:Number,count:Number},data:()=>({current:0}),model:{prop:"value",event:"input"},watch:{current(t){this.value!==t&&this.$emit("input",t)},value(t){if(t!==this.current){const e=1===Math.abs(t-this.current);this.scrollTo(t,e)}}},methods:{onScrolled(){const t=this.$refs.container,e=t.scrollLeft/t.scrollWidth*this.count;Math.abs(e-this.current)>.8&&(this.current=Math.round(e))},onResize(){this.scrollTo(this.current,!1)},isActive(t){return[t,t-1,t+1].includes(this.current)},scrollTo(t,e){const n=this.$refs.container,i=Math.ceil(t*n.scrollWidth/this.count);n.scrollTo({left:i,behavior:e?"smooth":void 0})}},mounted(){this.scrollTo(this.value,!1)}}),On=Sn,Tn=(n("2210"),Object(u["a"])(On,Cn,$n,!1,null,"df4c268a",null)),jn=Tn.exports,Pn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"drawer-container fixed q-drawer--top-padding"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.invisible,expression:"!invisible"},{name:"touch-pan",rawName:"v-touch-pan.left.mouse.prevent",value:t.transiting?void 0:t.handleTouchPan,expression:"transiting? undefined:handleTouchPan",modifiers:{left:!0,mouse:!0,prevent:!0}}],ref:"backdrop",staticClass:"drawer-backdrop fixed-full",on:{click:t.onClickBackdrop}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.opened&&!t.transiting&&!t.disable,expression:"!opened&&!transiting&&!disable"},{name:"touch-pan",rawName:"v-touch-pan.right.mouse.prevent",value:t.handleTouchPan,expression:"handleTouchPan",modifiers:{right:!0,mouse:!0,prevent:!0}}],staticClass:"drawer-opener fixed-left"}),n("aside",{directives:[{name:"touch-pan",rawName:"v-touch-pan.left.mouse.prevent",value:t.transiting?void 0:t.handleTouchPan,expression:"transiting? undefined:handleTouchPan",modifiers:{left:!0,mouse:!0,prevent:!0}}],staticClass:"drawer fixed-left q-drawer__content",class:{invisible:t.invisible,"drawer-disable-pointer-events":t.panning||t.transiting}},[t._t("default"),n("q-resize-observer",{on:{resize:t.onContentResize}})],2)])},En=[],In=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},Rn=i["a"].extend({props:{value:Boolean,disable:Boolean},data:()=>({width:0,panning:!1,transiting:!1,openRatio:0,touchPanInitOffset:0,transitionMul:1,opened:!1,velometer:ze(),pipeline:De()}),model:{prop:"value",event:"open"},computed:{invisible(){return!this.opened&&!this.panning&&!this.transiting},animatedViews(){return[this.$parent.$el,this.$refs.backdrop]}},watch:{value(t){this.opened=t},opened(){this.pipeline.run(()=>this.transit())},width(t){this.$parent.$el.style.setProperty("--drawer-width",""+t)},openRatio(t){this.$parent.$el.style.setProperty("--drawer-open-ratio",""+t)},transitionMul(t){this.$parent.$el.style.setProperty("--drawer-transition-mul",""+t)}},methods:{onClickBackdrop(){!this.opened||this.panning||this.transiting||(this.opened=!1,this.$emit("open",!1))},onContentResize(t){t.width>0&&(this.width=t.width)},transit(){return In(this,void 0,void 0,(function*(){this.transiting=!0,yield this.$nextTick(),document.body.classList.add("drawer-body--prevent-scroll");const t=this.animatedViews;t.forEach(t=>t.classList.add("drawer-transition")),this.openRatio=this.opened?1:0,yield Promise.all(t.map(t=>Ne(t))),t.forEach(t=>t.classList.remove("drawer-transition")),this.opened||document.body.classList.remove("drawer-body--prevent-scroll"),this.transitionMul=1,this.transiting=!1}))},handleTouchPan(t){t.isFirst&&(document.body.classList.add("drawer-body--prevent-scroll"),this.panning=!0,this.touchPanInitOffset=t.offset.x);const e=Math.max(1,this.width),n=Math.min(Math.abs(t.offset.x-this.touchPanInitOffset),e),i=this.opened?(e-n)/e:n/e;if(this.openRatio=i,t.isFinal){this.panning=!1;const t=this.opened?-this.velometer.velocity:this.velometer.velocity,i=n>e/3&&t>=0||t>.3;this.transitionMul=.7,i?(this.opened=!this.opened,this.$emit("open",this.opened)):this.pipeline.run(()=>this.transit())}this.velometer.update(t.duration,t.delta.x)}},mounted(){this.$parent.$el.classList.add("drawer-parent"),this.opened=this.value},beforeDestroy(){this.$parent.$el.classList.remove("drawer-parent")}}),Nn=Rn,Dn=(n("a9fd"),Object(u["a"])(Nn,Pn,En,!1,null,null,null)),zn=Dn.exports,An=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",t._g(t._b({},"q-item",t.$attrs,!1),t.$listeners),[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{name:"credit_card"}})],1),n("q-item-section",{staticClass:"relative-position"},[n("q-item-label",{attrs:{lines:"1"}},[t._v("\n            "+t._s(t.name)+"\n        ")]),n("q-badge",{directives:[{name:"show",rawName:"v-show",value:t.badgeText,expression:"badgeText"}],staticClass:"text-capitalize",attrs:{transparent:"",color:"orange",floating:""}},[t._v(t._s(t.badgeText))])],1)],1)},Bn=[],Ln=i["a"].extend({props:{name:String,net:String},computed:{badgeText(){return"main"===this.net?"":(this.net||"private")+" net"}}}),Vn=Ln,Mn=Object(u["a"])(Vn,An,Bn,!1,null,null,null),Hn=Mn.exports,Gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.tag,{directives:[{name:"intersection",rawName:"v-intersection",value:t.options,expression:"options"}],tag:"component"},[t._t("default",null,{intersecting:t.intersecting})],2)},Wn=[],Fn=i["a"].extend({props:{tag:{default:"div"},root:String},data:()=>({intersecting:!1,timer:void 0}),computed:{rootElement(){if(!this.root)return;let t=this.$parent.$el;while(t){if(t.id===this.root)return t;t=t.parentElement}},options(){return{handler:t=>this.update(t.isIntersecting),cfg:{root:this.rootElement}}}},methods:{update(t){this.timer&&(clearTimeout(this.timer),this.timer=void 0),t?this.intersecting=!0:this.timer=setTimeout(()=>{this.intersecting=!1},2e3)}}}),Jn=Fn,Xn=Object(u["a"])(Jn,Gn,Wn,!1,null,null,null),Un=Xn.exports,Kn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row keypad q-col-gutter-xs q-mt-xs q-pb-xs q-pr-xs bg-grey-3"},t._l(t.keys,(function(e,i){return n("div",{key:i,staticClass:"col-4"},[n("q-btn",{staticClass:"full-width text-h5",class:{invisible:!e},attrs:{unelevated:"",color:"white","text-color":"black",ripple:!1},on:{click:function(n){return t.onClickKey(e)}}},[t._v(t._s(e[0]))])],1)})),0)},Qn=[];const Yn=["1","2","3","4","5","6","7","8","9","","0",["⌫","Delete"]];var Zn=i["a"].extend({data:()=>({keys:Yn}),methods:{onClickKey(t){const e=new KeyboardEvent("keydown",{key:t[1]||t[0]});this.$el.parentElement.dispatchEvent(e)}}}),ti=Zn,ei=(n("cc6e"),Object(u["a"])(ti,Kn,Qn,!1,null,"06abe124",null)),ni=ei.exports,ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{width:t.size+"px",height:t.size+"px"},domProps:{innerHTML:t._s(t.html)}})},si=[];const ri=n("c4a7"),oi=new ri;function ai(t,e){oi.value=t,oi.size=2*e;const n=oi.image;return n.style.width="100%",n.style.height="100%",n.outerHTML}var ci=i["a"].extend({data(){return{content:""}},props:{size:Number},methods:{extractSlot(){this.content=this.$slots.default[0]&&this.$slots.default[0].text||""}},computed:{html(){return ai(this.content,this.size||100)}},created(){this.extractSlot()},beforeUpdate(){this.extractSlot()}}),li=ci,di=Object(u["a"])(li,ii,si,!1,null,null,null),ui=di.exports,hi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",t._g(t._b({attrs:{dense:t.dense}},"q-item",t.$attrs,!1),t.$listeners),[n("q-item-section",{attrs:{avatar:""}},[t.icon?n("q-avatar",{attrs:{square:"",size:t.dense?"sm":"md"}},[t.icon?n("q-img",{attrs:{src:t.icon}}):t._e()],1):n("q-avatar",{attrs:{size:t.dense?"sm":"md",color:"primary","text-color":"white"}},[t._v("\n            "+t._s(t.token.symbol.slice(0,1))+"\n        ")])],1),n("q-item-section",[n("q-item-label",{class:{"text-body2":t.dense},attrs:{lines:"1"}},[t._v(t._s(t.token.symbol))]),t.dense?t._e():n("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("\n            "+t._s(t.token.name)+"\n        ")])],1),n("q-item-section",{attrs:{side:""}},[t.balance?n("span",[t._v(t._s(t._f("balance")(t.balance,t.token.decimals)))]):n("span",[t._v(" -- ")])])],1)},fi=[],mi=i["a"].extend({props:{token:Object,balance:String,dense:Boolean},computed:{icon(){return this.token&&this.token.icon?`${mt["d"].tokenRegistry}assets/${this.token.icon}`:""}}}),pi=mi,vi=Object(u["a"])(pi,hi,fi,!1,null,null,null),gi=vi.exports,bi=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},yi=i["a"].extend({props:{tag:String,fn:{default:null}},data:()=>({seq:0,data:null,lastData:null,error:null,pending:!1}),methods:{reload(){return bi(this,void 0,void 0,(function*(){this.lastData=this.data,this.data=null,this.error=null,this.pending=!1;const t=++this.seq;if(this.fn){this.pending=!0;try{let e;e="function"===typeof this.fn?yield this.fn():yield this.fn,t===this.seq&&(this.data=e,this.$emit("data",e))}catch(e){t===this.seq&&(this.error=e,this.$emit("error",e))}finally{t===this.seq&&(this.pending=!1)}}}))}},watch:{fn:{immediate:!0,handler(){this.reload()}}},render(t){const e=this.$scopedSlots.default,n=(e?e({data:this.data,lastData:this.lastData,error:this.error,pending:this.pending,reload:()=>this.reload()}):[])||[];return n.length>1?t(this.tag||"fragment",n):n[0]}}),xi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",{attrs:{flat:"",bordered:""}},[n("q-card-section",[n("div",[t.isCreate?[n("div",{staticClass:"q-px-lg q-pt-sm text-center"},[n("q-icon",{attrs:{name:"note_add",size:"100px"}}),n("div",[t._v("New Contract")])],1)]:[n("div",{staticClass:"row justify-between"},[n("span",{staticClass:"col-2 text-subtitle2 text-grey"},[t._v("To")]),n("span",{staticClass:"col-4 text-subtitle2 text-right text-grey"},[t._t("default")],2)]),n("AddressAvatar",{staticClass:"q-mx-auto",staticStyle:{width:"100px",height:"100px","border-radius":"50px"},attrs:{addr:t.toAddr}}),n("div",{staticClass:"q-px-lg q-pt-sm monospace text-center",staticStyle:{"word-break":"break-all"},on:{click:function(e){t.isShort=!t.isShort}}},[t.isShort?n("span",[t._v("\n                        "+t._s(t._f("abbrev")(t._f("checksum")(t.toAddr),8,6))+"\n                    ")]):n("span",[t._v("\n                        "+t._s(t._f("checksum")(t.toAddr))+"\n                    ")]),n("q-icon",{staticClass:"text-grey",attrs:{name:t.isShort?"zoom_in":"zoom_out",size:"sm"}})],1)]],2),n("div",[n("span",{staticClass:"text-subtitle2 text-grey"},[t._v("Amount")]),n("div",[t.isToken?[t.isZeroVet?t._e():n("TokenBalanceItem",{staticClass:"q-px-xs",attrs:{balance:t.vet,token:t.tokenSpecs.VET}}),t.decoded?n("TokenBalanceItem",{staticClass:"q-px-xs",attrs:{balance:t.decoded.value,token:t.token}}):t._e()]:[n("TokenBalanceItem",{staticClass:"q-px-xs",attrs:{balance:t.vet,token:t.tokenSpecs.VET}})]],2),n("div",{staticClass:"q-my-xs text-body2 text-grey-7"},[t._v(t._s(t.msg.comment))])]),t.msg.data?n("div",[n("q-expansion-item",{attrs:{label:t.expanded?"Hide Details":"Show Details","header-class":"text-light-blue-9 text-center text-body2"},model:{value:t.expanded,callback:function(e){t.expanded=e},expression:"expanded"}},[n("span",{staticClass:"text-subtitle2 text-grey"},[t._v("Input Data")]),n("q-input",{attrs:{"input-style":"resize: none",filled:"",readonly:"",type:"textarea"},model:{value:t.msg.data,callback:function(e){t.$set(t.msg,"data",e)},expression:"msg.data"}})],1)],1):t._e()])],1)},wi=[],ki=n("901e"),qi=n.n(ki),_i=i["a"].extend({props:{tokens:Array,msg:Object},data(){return{expanded:!1,isShort:!0,tokenSpecs:mt["c"]}},computed:{tokenAddressList(){return[...this.tokens.map(t=>t.address)]},isZeroVet(){return new ki["BigNumber"](this.msg.value).isZero()},vet(){return this.msg.value.toString()},toAddr(){let t="";return this.isVet?t=this.msg.to||"":this.isToken&&(t=this.decoded?this.decoded.to:""),t},token(){return this.isToken?this.tokens.find(t=>t.address===this.msg.to):void 0},isToken(){return this.tokenAddressList.includes(this.msg.to||"")},isVet(){return!!this.msg.to&&!!this.msg.value},decoded(){return this.isToken&&this.msg.data?this.tokenDecode(this.msg.data):void 0},isCreate(){return!this.msg.to&&!!this.msg.data}},methods:{tokenDecode(t){try{const e=ue["abi"].decodeParameters(mt["a"].transfer.inputs,"0x"+t.slice(10));return{to:e._to,value:e._value}}catch(e){console.log(e)}}}}),Ci=_i,$i=Object(u["a"])(Ci,xi,wi,!1,null,null,null),Si=$i.exports,Oi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._b({ref:"container",staticClass:"relative-position overflow-hidden",style:{height:t.cHeight,borderRadius:t.cHeight}},"div",t.$attrs,!1),[n("div",{staticClass:"absolute row items-center justify-center full-width full-height",class:[{trs:t.isTrans},t.rClass]},[n("div",{class:t.textClass,style:{opacity:t.opacity}},[t._v("\n            "+t._s(t.label)+"\n        ")])]),n("div",{staticClass:"full-width full-height absolute",class:[{trs:t.isTrans},t.lClass],style:{right:t.right,borderRadius:t.cHeight},on:{transitionend:function(e){t.isTrans=!1}}}),n("q-btn",{directives:[{name:"touch-pan",rawName:"v-touch-pan.prevent.right.mouse",value:t.moveFab,expression:"moveFab",modifiers:{prevent:!0,right:!0,mouse:!0}}],ref:"btn",staticClass:"absolute",class:{trs:t.isTrans},style:{left:t.left},attrs:{color:t.btnColor,unelevated:"",round:"",disabled:t.isTrans||t.disabled,icon:t.btnIcon}})],1)},Ti=[],ji=i["a"].extend({model:{prop:"checked",event:"checked"},props:{label:String,btnIcon:{type:String,default:"keyboard_arrow_right"},lClass:{type:String,default:"bg-grey-2"},rClass:{type:String,default:"bg-grey-3"},btnColor:{type:String,default:"primary"},textClass:{type:String,default:"text-grey-9"},disabled:Boolean,checked:Boolean},data(){return{XOffset:0,maxOffset:0,height:0,isTrans:!1}},mounted(){const t=this.$refs.container,e=this.$refs.btn;this.height=e.$el.clientHeight,this.maxOffset=t.offsetWidth-e.$el.clientWidth},computed:{left(){return this.XOffset+"px"},right(){return this.maxOffset-this.XOffset+"px"},opacity(){return this.XOffset===this.maxOffset?0:1-this.XOffset/this.maxOffset},cHeight(){return this.height+"px"}},watch:{checked(t){t||(this.XOffset=0)}},methods:{moveFab(t){this.disabled||(t.distance.x>this.maxOffset?this.XOffset=this.maxOffset:this.XOffset=t.distance.x,t.isFinal&&(this.isTrans=!0,this.XOffset>.85*this.maxOffset?(this.XOffset=this.maxOffset,this.$emit("checked",!0)):this.XOffset=0))}}}),Pi=ji,Ei=(n("ab4e"),Object(u["a"])(Pi,Oi,Ti,!1,null,"0ec25433",null)),Ii=Ei.exports,Ri=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{style:{background:"url('"+t.svg+"')  0% 0% / cover no-repeat"}},[t._t("default")],2)},Ni=[],Di=i["a"].extend({props:{addr:String},computed:{svg(){return this.addr?"data:image/svg+xml;utf8,"+Object(We["picasso"])(this.addr.toLowerCase()):""}}}),zi=Di,Ai=Object(u["a"])(zi,Ri,Ni,!1,null,null,null),Bi=Ai.exports,Li=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",[t._l(t.wallets,(function(e){return[n("q-item-label",{key:e.id,staticClass:"text-grey ellipsis"},[t._v(t._s(e.meta.name))]),t._l(e.meta.addresses,(function(e){return n("q-expansion-item",{directives:[{name:"scrollIntoView",rawName:"v-scrollIntoView",value:t.current===e,expression:"current === address"}],key:e,attrs:{group:"somegroup","expand-icon-toggle":""},on:{"before-show":function(n){return t.toggleContent(e)}},scopedSlots:t._u([{key:"header",fn:function(){return[n("q-item-section",{staticClass:"q-mr-none",attrs:{avatar:""},on:{click:function(n){return t.$emit("change",e)}}},[n("AddressAvatar",{staticClass:"q-mx-auto",staticStyle:{width:"50px",height:"30px","border-radius":"5px"},attrs:{addr:e}})],1),n("q-item-section",{staticClass:"monospace",class:{"text-primary":t.current===e},on:{click:function(n){return t.$emit("change",e)}}},[t._v("\n                    "+t._s(t._f("abbrev")(e,8,6))+"\n                ")])]},proxy:!0}],null,!0)},[t._t("default",null,{address:e})],2)}))]}))],2)},Vi=[],Mi=i["a"].extend({model:{prop:"current",event:"change"},props:{wallets:Array,current:String},methods:{toggleContent(t){this.$emit("tabChange",t)}},directives:{scrollIntoView:{inserted(t,e){!0===e.value&&t.scrollIntoView()}}}}),Hi=Mi,Gi=Object(u["a"])(Hi,Li,Vi,!1,null,null,null),Wi=Gi.exports,Fi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{attrs:{clickable:t.isSelectable}},[n("connex-continuous",{attrs:{connex:t.connex,query:function(){return t.connex.thor.account(t.signer).get()}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[n("q-item-section",{attrs:{avatar:""}},[n("AddressAvatar",{staticClass:"q-mx-auto",staticStyle:{width:"65px",height:"35px","border-radius":"5px"},attrs:{addr:t.signer}})],1),n("q-item-section",[n("q-item-label",{staticClass:"monospace text-body2"},[t._v(t._s(t._f("abbrev")(t._f("checksum")(t.signer),8,6)))]),n("q-item-label",{attrs:{caption:"",lines:"1"}},[i?[t._v("\n                    "+t._s(t._f("balance")(i.balance,18))+"\n                ")]:n("q-spinner-dots",{attrs:{color:"blue"}}),t._v("\n                VET\n            ")],2)],1),n("q-item-section",{attrs:{side:""}},[t.isSelectable?n("q-icon",{attrs:{name:"keyboard_arrow_right"}}):t._e()],1)]}}])}),n("q-popup-proxy",{attrs:{"no-parent-event":!t.isSelectable,"content-class":"selector-dialog",position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("q-card",{staticClass:"overflow-hidden fit",staticStyle:{"padding-top":"50px"}},[n("q-toolbar",{staticClass:"absolute-top"},[n("q-toolbar-title",[t._v("Select")])],1),n("q-card-section",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider"}],staticClass:"fit overflow-auto q-pt-none"},[n("AccountList",{attrs:{wallets:t.wallets},on:{tabChange:t.AccountTabChange,change:t.signerChange},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.address;return[t.currentAccountTab===n?t._t("default",null,{address:n}):t._e()]}}],null,!0),model:{value:t.signer,callback:function(e){t.signer=e},expression:"signer"}})],1)],1)],1)],1)},Ji=[],Xi=i["a"].extend({model:{prop:"current",event:"change"},props:{connex:Object,wallets:Array,isSelectable:Boolean,current:String},data(){return{show:!1,signer:this.current||this.wallets[0].meta.addresses[0],currentAccountTab:""}},methods:{AccountTabChange(t){this.currentAccountTab=t},signerChange(t){this.$emit("change",t),this.show=!1}}}),Ui=Xi,Ki=(n("a876"),Object(u["a"])(Ui,Fi,Ji,!1,null,null,null)),Qi=Ki.exports,Yi=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-list",[n("connex-continuous",{attrs:{connex:t.connex,query:function(){return t.connex.thor.account(t.address).get()}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return[n("TokenBalanceItem",{attrs:{dense:t.dense,clickable:t.selectabel,balance:i&&i.balance,token:t.VET},on:{click:function(e){return t.onSelect("VET")}}}),n("q-separator",{attrs:{inset:"item"}}),n("TokenBalanceItem",{attrs:{dense:t.dense,clickable:t.selectabel,balance:i&&i.energy,token:t.VTHO},on:{click:function(e){return t.onSelect("VTHO")}}})]}}])}),t._l(t.tokens,(function(e,i){return[n("q-separator",{key:i+"-s",attrs:{inset:"item"}}),n("connex-continuous",{key:i,attrs:{connex:t.connex,query:function(){return t.tokenBalanceOf(t.connex,t.address,e)}},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.data;return[n("TokenBalanceItem",{attrs:{dense:t.dense,clickable:t.selectabel,token:e,balance:s},on:{click:function(n){return t.onSelect(e.symbol)}}})]}}],null,!0)})]}))],2)},Zi=[],ts=i["a"].extend({data(){return{VET:mt["c"].VET,VTHO:mt["c"].VTHO}},props:{connex:Object,address:String,tokens:Array,selectabel:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},methods:{tokenBalanceOf:Tt["b"],onSelect(t){this.$emit("select",t)}}}),es=ts,ns=Object(u["a"])(es,Yi,Zi,!1,null,null,null),is=ns.exports,ss=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{attrs:{dense:""}},[n("q-item-section",[n("q-item-label",{staticClass:"text-body2"},[t._v("\n            Est Fee\n            "),t.gas?n("span",[t._v(t._s(t.getFee(t.gas,t.bgp,t.coef)))]):n("q-spinner-dots",{attrs:{color:"blue"}}),t._v("\n            VTHO\n        ")],1)],1),n("q-item-section",{attrs:{side:""}},[n("q-btn",{attrs:{loading:!t.gas,size:"sm",color:"primary",outline:"",rounded:""},scopedSlots:t._u([{key:"loading",fn:function(){return[n("q-spinner-facebook",{attrs:{color:"primary"}})]},proxy:!0}])},[n("q-icon",{attrs:{left:"",name:t.levelList[t.level].icon}}),n("div",[t._v("\n                "+t._s(t.levelList[t.level].label)+"\n            ")]),n("q-popup-proxy",{attrs:{"full-width":""},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("q-card",[n("q-toolbar",[n("q-toolbar-title",[t._v("\n                            Adjust Priority\n                        ")])],1),n("q-card-section",[n("q-list",t._l(t.levelList,(function(e,i){return n("q-item",{key:i,class:{"text-primary":t.coef===t.calcCoef(i)},attrs:{clickable:""},on:{click:function(e){return t.onChange(i)}}},[n("q-item-section",{attrs:{avatar:""}},[n("q-icon",{attrs:{color:t.coef===t.calcCoef(i)?"primary":"",name:e.icon}})],1),n("q-item-section",[t._v("\n                                    "+t._s(e.label)+"\n                                ")]),n("q-item-section",{attrs:{side:""}},[t._v(t._s(t.getFee(t.gas,t.bgp,t.calcCoef(i)))+" VTHO")])],1)})),1)],1)],1)],1)],1)],1)],1)},rs=[],os=i["a"].extend({model:{prop:"coef",event:"change"},props:{gas:Number,bgp:String,coef:Number},data(){return{show:!1,levelList:[{icon:"directions_walk",label:"Regular"},{icon:"directions_bike",label:"Low"},{icon:"directions_car",label:"Medium"},{icon:"flight",label:"High"}]}},computed:{maxLel(){return this.levelList.length-1},level(){return Math.round(this.coef/(255/this.maxLel))}},methods:{calcCoef(t){return Math.round(t/this.maxLel*255)},onChange(t){this.$emit("change",this.calcCoef(t)),this.show=!1},getFee(t,e,n){if(t>0){const s=new qi.a(e).times(n).idiv(255).plus(e);return i["a"].filter("balance")(s.times(t).toString(10))}return i["a"].filter("balance")()}}}),as=os,cs=Object(u["a"])(as,ss,rs,!1,null,null,null),ls=cs.exports,ds=i["a"].extend({props:{tag:String,t:Number},data:()=>({timeUp:!1}),created(){const t=setTimeout(()=>{this.timeUp=!0},this.t);this.$once("hook:beforeDestroy",()=>clearTimeout(t))},render(t){if(this.timeUp){const e=this.$slots.default||[];return e.length>1?t(this.tag||"fragment",e):e[0]}return t()}}),us=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",{staticClass:"q-my-md",attrs:{clickable:""}},[n("q-item-section",{attrs:{avatar:""}},[t.icon?n("q-avatar",{attrs:{square:""}},[t.icon?n("q-img",{attrs:{src:t.icon}}):t._e()],1):n("q-avatar",{attrs:{color:"primary","text-color":"white"}},[t._v("\n            "+t._s(t.token.symbol.slice(0,1))+"\n        ")])],1),n("q-item-section",[n("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(t.token.symbol))]),n("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("\n            "+t._s(t.token.name)+"\n        ")])],1),n("q-item-section",{attrs:{side:""}},[n("q-icon",{attrs:{name:"unfold_more"}})],1),n("q-popup-proxy",{attrs:{"full-width":""},model:{value:t.showTokenList,callback:function(e){t.showTokenList=e},expression:"showTokenList"}},[n("q-card",[n("q-card-section",{staticClass:"scroll",staticStyle:{"max-height":"70vh"}},[n("BalanceList",{attrs:{tokens:t.tokens,address:t.address,connex:t.connex,selectabel:""},on:{select:t.onSelect}})],1)],1)],1)],1)},hs=[],fs=i["a"].extend({model:{prop:"symbol",event:"change"},props:{connex:Object,address:String,tokens:Array,symbol:String},data(){return{showTokenList:!1}},computed:{token(){let t;return t="VET"===this.symbol?mt["c"].VET:"VTHO"===this.symbol?mt["c"].VTHO:this.tokens.find(t=>t.symbol===this.symbol),t},icon(){return this.token&&this.token.icon?`${mt["d"].tokenRegistry}assets/${this.token.icon}`:""}},methods:{onSelect(t){this.$emit("change",t),this.showTokenList=!1}}}),ms=fs,ps=Object(u["a"])(ms,us,hs,!1,null,null,null),vs=ps.exports,gs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",t._g(t._b({attrs:{dense:t.dense}},"q-item",t.$attrs,!1),t.$listeners),[n("q-item-section",{attrs:{avatar:""}},[n("q-chip",{staticClass:"text-white truncate-chip-labels",class:"bg-"+t.logStyle.color,attrs:{square:"",dense:""}},[n("q-icon",{attrs:{name:t.logStyle.icon}})],1)],1),n("q-item-section",[n("q-item-label",{staticClass:"text-body2 monospace",attrs:{lines:"1"}},[t._v("\n            "+t._s(t._f("abbrev")(t._f("checksum")(t.address===t.log.recipient?t.log.sender:t.log.recipient),8,6))+"\n        ")]),t.dense?t._e():n("q-item-label",{attrs:{caption:"",lines:"2"}},[t._v("\n            "+t._s(t._f("dateTime")(1e3*t.log.meta.blockTimestamp))+"\n        ")])],1),n("q-item-section",{attrs:{side:""}},[n("span",{class:"text-"+t.logStyle.color},[t.amount?n("span",[t._v(t._s(t.logStyle.mark)+" "+t._s(t._f("balance")(t.amount,t.token.decimals)))]):n("span",[t._v(" -- ")])])])],1)},bs=[],ys=i["a"].extend({props:{log:Object,address:String,dense:Boolean},computed:{token(){return this.log.token},amount(){return this.log.amount},logStyle(){return this.log.recipient===this.log.sender?{icon:"swap_horiz",color:"grey-9",mark:""}:this.address===this.log.recipient?{icon:"north_west",color:"green",mark:"+"}:{icon:"south_east",color:"red",mark:"-"}}}}),xs=ys,ws=Object(u["a"])(xs,gs,bs,!1,null,null,null),ks=ws.exports,qs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-infinite-scroll",{attrs:{offset:0},on:{load:t.onLoad},scopedSlots:t._u([{key:"loading",fn:function(){return[n("div",{staticClass:"text-center q-my-sm"},[n("q-spinner-dots",{attrs:{color:"primary",size:"20px"}})],1)]},proxy:!0}])},[n("ConnexContinuous",{attrs:{connex:t.connex,query:function(){return t.fetchRecent()}},on:{data:t.onNewLogs}}),t._l(t.logs,(function(e,i){return n("div",{key:i,staticClass:"caption"},[n("LogItem",{key:i,attrs:{address:t.address,log:e}})],1)})),t.noMore?n("div",{staticClass:"text-center q-my-md text-grey"},[0===t.logs.length?n("span",[t._v(" No Transfer Found. ")]):n("span",[t._v(" No More Transfers. ")])]):t._e()],2)},_s=[],Cs=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},$s=i["a"].extend({props:{connex:Object,pageSize:Number,address:String,tokens:{type:Array,default:null}},data(){return{pageNum:1,logs:[],offset:0,noMore:!1,splitBlock:null}},created(){this.splitBlock=this.connex.thor.status.head.number},methods:{vetTransfers:Tt["e"],tokenTransfers:Tt["c"],onNewLogs(t){t.length&&(this.logs=[...t,...this.logs])},fetchRecent(){return Cs(this,void 0,void 0,(function*(){let t=!0,e=[];const n=(this.logs.length?this.logs[0].meta.blockNumber:this.splitBlock)+1,i=this.connex.thor.status.head.number;while(t){const s=yield this.query(n,i,e.length);t=s.length===this.pageSize,e=[...e,...s]}return e}))},onLoad(t,e){return Cs(this,void 0,void 0,(function*(){try{const t=yield this.query(0,this.splitBlock,(this.pageNum-1)*this.pageSize);this.pageNum++,this.logs=[...this.logs,...t],this.noMore=t.length<this.pageSize,e(t.length<this.pageSize)}catch(t){console.log(t),e(!0)}}))},query(t,e,n){return Cs(this,void 0,void 0,(function*(){return this.tokens?yield this.tokenTransfers(this.connex,this.tokens,this.address,t,e,n,this.pageSize):yield this.vetTransfers(this.connex,this.address,t,e,n,this.pageSize)}))}}}),Ss=$s,Os=Object(u["a"])(Ss,qs,_s,!1,null,null,null),Ts=Os.exports,js=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-btn",{attrs:{label:"Receive"}},[n("q-popup-proxy",{attrs:{maximized:"",persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("q-card",[n("q-toolbar",[n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(e){t.show=!1}}}),n("q-toolbar-title",{staticClass:"absolute-center text-capitalize"},[t._v("\n                    Receive Assets\n                ")])],1),n("div",{staticClass:"text-center q-px-md q-pt-xl"},[t._v("\n                Share your account address to receive funds\n\n                "),n("AddressAvatar",{staticClass:"q-mx-auto q-mt-xl q-mb-lg relative-position",staticStyle:{height:"190px",width:"280px","border-radius":"18px"},attrs:{addr:t.address}},[n("QRCode",{staticClass:"absolute-center overflow-hidden",staticStyle:{height:"150px",width:"150px","border-radius":"10px"}},[t._v(t._s(t._f("checksum")(t.address)))])],1),n("div",{staticClass:"monospace q-my-md text-center text-grey q-px-lg",staticStyle:{"word-break":"break-all","border-radius":"15px"}},[t._v(t._s(t._f("checksum")(t.address)))]),n("q-btn",{staticClass:"q-mt-xl",on:{click:t.onCopy}},[t._v("Copy")])],1)],1)],1)],1)},Ps=[],Es=i["a"].extend({props:{address:String},data(){return{show:!1}},methods:{onCopy(){Object(o["b"])(i["a"].filter("checksum")(this.address)).then(()=>{this.$q.notify("copied")}).catch(console.error)}}}),Is=Es,Rs=Object(u["a"])(Is,js,Ps,!1,null,null,null),Ns=Rs.exports,Ds=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-item",t._g(t._b({},"q-item",t.$attrs,!1),t.$listeners),[n("q-item-section",{attrs:{avatar:""}},[n("AddressAvatar",{staticClass:"q-mx-auto",staticStyle:{width:"80px",height:"80px","border-radius":"40px"},attrs:{addr:t.address}})],1),n("q-item-section",[n("q-item-label",{staticClass:"text-body1 reline ellipsis-2-lines"},[t._t("default")],2),n("q-item-label",{staticClass:"text-grey reline text-body2",attrs:{lines:"2"}},[t._v(t._s(t._f("checksum")(t.address)))])],1)],1)},zs=[],As=i["a"].extend({props:{address:String}}),Bs=As,Ls=(n("6880"),Object(u["a"])(Bs,Ds,zs,!1,null,"b57f2ea0",null)),Vs=Ls.exports,Ms=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("fragment",t._l(t.activities,(function(t){return n("Item",{key:t.id,attrs:{item:t}})})),1)},Hs=[],Gs=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[i?n("ConnexContinuous",{attrs:{connex:i,query:function(){return t.txReceipt(i,t.tx.id)}},on:{data:function(e){return t.onReceipt(i,e)}}}):t._e()]}}])})},Ws=[],Fs=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},Js=i["a"].extend({props:{item:Object},computed:{node(){return this.$state.config.node.list.find(t=>t.gid===this.item.gid)},tx(){return this.item.glob}},methods:{txReceipt:Tt["d"],onReceipt(t,e){return Fs(this,void 0,void 0,(function*(){if(!this.tx.closed){const n=t.thor.status.head,i=!!e&&n.number-e.meta.blockNumber>=12,s=!e&&n.timestamp-this.tx.timestamp>190;yield this.$storage.activities.update({id:this.item.id},{glob:JSON.stringify(Object.assign(Object.assign({},this.item.glob),{closed:i||s,receipt:e}))})}}))}}}),Xs=Js,Us=Object(u["a"])(Xs,Gs,Ws,!1,null,null,null),Ks=Us.exports,Qs=i["a"].extend({components:{Item:Ks},computed:{activities(){return this.$state.activity.list.filter(t=>!t.glob.closed&&"tx"===t.glob.type)}}}),Ys=Qs,Zs=Object(u["a"])(Ys,Ms,Hs,!1,null,null,null),tr=Zs.exports;const er={StackedRouterView:Me,AddressCard:Ye,ConnexObject:cn,ConnexContinuous:un,PinCode:bn,ConfirmedPinCodeInput:_n,SlideContainer:jn,Drawer:zn,WalletItem:Hn,Intersecting:Un,DigitKeypad:ni,QRCode:ui,TokenBalanceItem:gi,Async:yi,ClauseCard:Si,SlideBtn:Ii,AddressAvatar:Bi,AccountList:Wi,AccountSelector:Qi,Priority:ls,Delay:ds,BalanceList:is,TokenSelector:vs,LogItem:ks,Logs:Ts,ReceiveDialog:Ns,AddressInfo:Vs,TxActivityUpdate:tr};var nr=er,ir=Object(m["boot"])(({Vue:t})=>{for(const e in nr)t.component(e,nr[e])}),sr=n("f945"),rr=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function or(){const t=i["a"].observable({entities:[],currentId:0,ready:!1});return(()=>{rr(this,void 0,void 0,(function*(){const e=yield sr["a"].init(),n=e.wallets.observe();for(;;){try{t.entities=yield e.wallets.all().query(),t.ready=!0}catch(i){console.warn(i)}yield n.changed()}}))})(),{get list(){return t.entities.map(t=>({id:t.id,gid:t.gid,vault:t.vault,meta:JSON.parse(t.meta)}))},get current(){const e=this.list;return e.find(e=>e.id===t.currentId)||e[0]||null},setCurrentId(e){t.currentId=e},get ready(){return t.ready}}}var ar=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};const cr=[{gid:mt["b"].main,url:"http://localhost:8669"},{gid:mt["b"].test,url:"http://localhost:8669"}];function lr(){const t=i["a"].observable({entities:[],ready:!1});return(()=>{ar(this,void 0,void 0,(function*(){const e=yield sr["a"].init(),n=e.configs.observe();for(;;){try{t.entities=yield e.configs.all().query(),t.ready=!0}catch(i){console.warn(i)}yield n.changed()}}))})(),{get ready(){return t.ready},get all(){return t.entities.reduce((t,e)=>(t[e.key]=e.value,t),{})},set(t,e){return ar(this,void 0,void 0,(function*(){const n=yield sr["a"].init();yield n.configs.insert({key:t,value:e},!0)}))},get node(){const t=this.all;return{get list(){const e=t.nodes;if(e)try{return[...cr,...JSON.parse(e)]}catch(n){console.warn(n)}return[...cr]}}},get token(){const t=this;return{get registry(){return t.all.tokenRegistry?JSON.parse(t.all.tokenRegistry):{updated:0,main:[],test:[]}},get active(){return t.all.activeTokens?JSON.parse(t.all.activeTokens):[]},get list(){const t=[];return[...this.registry.main,...this.registry.test].forEach(e=>{t.find(t=>t.symbol===e.symbol)||t.push({name:e.name,symbol:e.symbol,icon:e.icon})}),t},specs(t,e){let n=[];t===mt["b"].main?n=this.registry.main:t===mt["b"].test&&(n=this.registry.test);const i=this.active;return e?n.filter(t=>i.includes(t.symbol)):[...n]},fetch(e){return ar(this,void 0,void 0,(function*(){if(!e){const t=this.registry.updated;if(t&&t>Date.now()-216e5)return}const n=Object.assign({},this.registry),i=["main","test"];for(const t of i){const e=yield fetch(`${mt["d"].tokenRegistry}${t}.json`);200===e.status&&(n[t]=(yield e.json()).filter(t=>"VTHO"!==t.symbol))}n.updated=Date.now(),yield t.set("tokenRegistry",JSON.stringify(n))}))}}}}}var dr=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function ur(){const t=i["a"].observable({entities:[],ready:!1});return(()=>{dr(this,void 0,void 0,(function*(){const e=yield sr["a"].init(),n=e.activities.observe();for(;;){try{t.entities=yield e.activities.all().reverse().query(),t.ready=!0}catch(i){console.warn(i)}yield n.changed()}}))})(),{get list(){return t.entities.map(t=>({id:t.id,gid:t.gid,walletId:t.walletId,createdTime:t.createdTime,glob:JSON.parse(t.glob)}))},get ready(){return t.ready}}}function hr(){return{wallet:or(),config:lr(),activity:ur()}}var fr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{maximized:"",persistent:"","transition-show":"slide-up","transition-hide":"slide-down",tabindex:"0"},on:{hide:function(e){return t.$emit("hide")},"!keydown":function(e){return t.handleKeyDown(e)}}},[n("q-card",{staticClass:"column items-center no-wrap"},[n("q-toolbar",[n("q-toolbar-title",{staticClass:"absolute-center"},[t._v("\n                "+t._s(t.args.title||"Authenticate")+"\n            ")]),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.hide}})],1),n("q-space"),n("p",[t._v("Input the pin code")]),n("pin-code",{on:{fulfilled:function(e){return t.runTask(e)}},model:{value:t.pin,callback:function(e){t.pin=e},expression:"pin"}}),n("p",{class:{invisible:!t.wrong}},[t._v("Incorrect Pin Code")]),t.bioPassSaved?n("q-btn",{attrs:{icon:t.bioAuthTypeIcon,flat:""},on:{click:t.recallBioPass}}):t._e(),n("q-space"),n("digit-keypad",{class:{"full-width":t.$q.screen.xs}})],1)],1)},mr=[],pr=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},vr=i["a"].extend({props:{task:{type:Function},args:Object},data:()=>({bioPassType:null,bioPassSaved:!1,pin:"",wrong:!1}),computed:{bioAuthTypeIcon(){return"face"===this.bioPassType?"sentiment_satisfied":"fingerprint"}},watch:{pin(t){t&&(this.wrong=!1)}},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},ok(t){this.$emit("ok",t),this.hide()},recallBioPass(){return pr(this,void 0,void 0,(function*(){const t=yield st.open();if(t)try{const e=yield t.recall("recall pin");yield this.runTask(e)}catch(e){console.warn(e)}}))},runTask(t){return this.$loading(()=>pr(this,void 0,void 0,(function*(){try{yield k["a"].verifyPassword(this.$state.config.all.passwordShadow,t),this.ok(yield this.task(t))}catch(e){this.pin="",this.wrong=!0,console.log("run task error:",e)}})))},handleKeyDown(t){const{key:e}=t;"Del"===e||"Delete"===e||"Backspace"===e?this.pin=this.pin.slice(0,-1):1===e.length&&(this.pin+=e)}},created(){return pr(this,void 0,void 0,(function*(){const t=yield st.open();t&&(this.bioPassType=t.authType,this.bioPassSaved=yield t.saved())}))}}),gr=vr,br=Object(u["a"])(gr,fr,mr,!1,null,null,null),yr=br.exports,xr=n("3003"),wr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{position:"bottom"},on:{hide:function(e){return t.$emit("hide")}}},[n("q-card",[n("q-list",[t._l(t.actions,(function(e,i){return["-"===e.label?n("q-separator",{key:i}):n("q-item",{key:i,attrs:{clickable:!!e.onClick},on:{click:function(n){t.ok(),e.onClick()}}},[n("q-item-section",{staticClass:"text-subtitle1 text-center q-py-sm",class:e.classes},[t._v("\n                        "+t._s(e.label)+"\n                    ")])],1)]}))],2)],1)],1)},kr=[],qr=i["a"].extend({props:{actions:Array},methods:{show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},ok(t){this.$emit("ok",t),this.hide()}}}),_r=qr,Cr=Object(u["a"])(_r,wr,kr,!1,null,null,null),$r=Cr.exports,Sr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{maximized:"",persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},on:{hide:function(e){return t.$emit("hide")}}},[n("q-card",{staticClass:"fit column no-wrap"},[n("div",{staticClass:"column"},[n("q-toolbar",[n("q-toolbar-title",{staticClass:"absolute-center"},[t._v("\n                    Sign\n                ")]),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.hide}})],1)],1),n("q-card-section",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider.both",modifiers:{both:!0}}],staticClass:"overflow-auto column no-wrap"},[t.estGasError?n("q-banner",{staticClass:"bg-red text-white q-mb-sm",attrs:{rounded:""}},[t._v(t._s(t.estGasError.message))]):t._e(),t.vmError?n("q-banner",{staticClass:"bg-orange text-white q-mb-sm",attrs:{rounded:""}},[t._v(t._s(t.vmError.message))]):t._e(),t._l(t.req.message,(function(e,i){return n("ClauseCard",{key:i,staticClass:"column q-mb-md",attrs:{tokens:[t.tokenSpecs.VTHO].concat(t.tokens),msg:e}},[t._v("\n                "+t._s("Clause #"+(i+1))+"\n            ")])}))],2),n("q-card-actions",{staticClass:"column bg-grey-2 shadow-up-1 q-mt-auto",staticStyle:{"z-index":"2"}},[t.isEnforced&&!t.hasTheSigner?n("div",{staticClass:"column items-center q-mx-auto q-gutter-y-md"},[n("q-icon",{staticClass:"text-red",attrs:{name:"error_outline",size:"xl"}}),n("span",{staticClass:"text-body1"},[t._v("Account doesn't exist")]),n("q-btn",{staticClass:"q-px-lg",attrs:{label:"Close",color:"primary"},on:{click:t.hide}})],1):n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[n("ConnexContinuous",{attrs:{connex:i,query:t.estGas(i)},on:{data:t.estimateHandler,error:function(e){t.estGasError=e}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return[n("q-list",{staticClass:"full-width"},[n("Priority",{attrs:{gas:s&&s.gas,bgp:s&&s.baseGasPrice},model:{value:t.gasPriceCoef,callback:function(e){t.gasPriceCoef=e},expression:"gasPriceCoef"}}),n("AccountSelector",{attrs:{wallets:t.wallets,connex:i,isSelectable:t.isSelectable},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.address;return[n("BalanceList",{attrs:{connex:i,address:s,tokens:t.tokens}})]}}],null,!0),model:{value:t.signer,callback:function(e){t.signer=e},expression:"signer"}}),n("q-item",[n("SlideBtn",{staticClass:"absolute-center",staticStyle:{width:"70%"},attrs:{disabled:!s,label:"Slide to Sign"},on:{checked:function(e){return t.onChecked(i,s)}},model:{value:t.signed,callback:function(e){t.signed=e},expression:"signed"}})],1)],1)]}}],null,!0)})]}}])})],1)],1)],1)},Or=[],Tr=n("f445"),jr=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},Pr=i["a"].extend({props:{req:Object,gid:String,referer:Object},data(){return{signer:"",isSelectable:!1,tokenSpecs:mt["c"],signed:!1,gasPriceCoef:0,estGasError:null,vmError:null}},computed:{clauseList(){return this.req.message.map(t=>({to:t.to,value:t.value,data:t.data}))},suggettedGas(){return this.req.options&&this.req.options.gas||0},node(){return this.$state.config.node.list.find(t=>t.gid===this.gid)},tokens(){return this.$state.config.token.specs(this.gid,!0)},isEnforced(){return!(!this.req.options||!this.req.options.signer)},hasTheSigner(){return this.isEnforced&&this.addresses.includes(this.req.options.signer)},addresses(){let t=[];return this.wallets.forEach(e=>{t=[...t,...e.meta.addresses]}),t},wallets(){return this.$state.wallet.list.filter(t=>t.gid===this.gid)},wallet(){return this.wallets.find(t=>t.meta.addresses.includes(this.signer))||null}},mounted(){this.initData()},methods:{estimateHandler(t){this.estGasError=null,t.reverted?this.vmError=new Error(t.vmError):this.vmError=null},estGas(t){return()=>jr(this,void 0,void 0,(function*(){return this.signer&&t?yield Object(Tr["b"])(t,this.clauseList,this.suggettedGas,this.signer):null}))},show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},ok(t){this.$emit("ok",t),this.hide()},initData(){this.isEnforced?this.signer=this.hasTheSigner?this.req.options.signer:"":this.signer=this.wallets[0].meta.addresses[0],this.isSelectable=!this.isEnforced},getFee(t,e,n){if(t>0){const i=new ki["BigNumber"](e).times(n).idiv(255).plus(e);return i.times(t).toString(10)}return new ki["BigNumber"](NaN).toString(10)},onChecked(t,e){return jr(this,void 0,void 0,(function*(){const n=this.clauseList.map(t=>({to:t.to,value:"0x"+new ki["BigNumber"](t.value).toString(16),data:t.data||"0x"})),i=Object(Tr["a"])(t,n,this.gasPriceCoef,e.gas,this.req.options&&this.req.options.dependsOn||null);try{const n=yield this.$authenticate(t=>Promise.resolve(t));if(this.wallet){const s=yield k["a"].decode(this.wallet.vault),r=yield s.derive(this.wallet.meta.addresses.indexOf(this.signer)),o=yield r.unlock(n),a=i.signTx(o),c="0x"+a.encode().toString("hex");this.$txer.request(a.id,this.node.url+"/transactions",c);const l={id:a.id,type:"tx",closed:!1,comment:this.req.options&&this.req.options.comment||"",message:this.req.message,signer:this.signer,timestamp:t.thor.status.head.timestamp,estimatedFee:this.getFee(e.gas,e.baseGasPrice,this.gasPriceCoef),referer:this.referer||{},raw:c,receipt:null};this.$storage.activities.insert({gid:this.gid,walletId:this.wallet.id,createdTime:Date.now(),glob:JSON.stringify(l)}),this.ok({txid:a.id,signer:this.signer})}}catch(s){this.signed=!1,console.log(s),this.hide()}}))}}}),Er=Pr,Ir=Object(u["a"])(Er,Sr,Or,!1,null,null,null),Rr=Ir.exports,Nr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-dialog",{ref:"dialog",attrs:{maximized:"",persistent:"","transition-show":"slide-up","transition-hide":"slide-down"},on:{hide:function(e){return t.$emit("hide")}}},[n("q-card",{staticClass:"fit column no-wrap"},[n("div",{staticClass:"column"},[n("q-toolbar",[n("q-toolbar-title",{staticClass:"absolute-center"},[t._v("\n                    Sign\n                ")]),n("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:t.hide}})],1)],1),n("q-card-section",{directives:[{name:"scrollDivider",rawName:"v-scrollDivider.both",modifiers:{both:!0}}],staticClass:"overflow-auto column no-wrap"},[n("q-card",{attrs:{bordered:"",flat:""}},[n("q-card-section",[n("div",{staticClass:"text-h6 text-capitalize"},[t._v(t._s(t.req.message.purpose))]),n("div",{staticClass:"text-grey text-body2"},[t._v("\n                        "+t._s(t.req.message.payload.content)+"\n                    ")])])],1)],1),n("q-card-actions",{staticClass:"column bg-grey-2 shadow-up-1 q-mt-auto",staticStyle:{"z-index":"2"}},[t.isEnforced&&!t.hasTheSigner?n("div",{staticClass:"column items-center q-mx-auto q-gutter-y-md"},[n("q-icon",{staticClass:"text-red",attrs:{name:"error_outline",size:"xl"}}),n("span",{staticClass:"text-body1"},[t._v("Account doesn't exist")]),n("q-btn",{staticClass:"q-px-lg",attrs:{label:"Close",color:"primary"},on:{click:t.hide}})],1):n("ConnexObject",{attrs:{node:t.node},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.connex;return[n("q-list",{staticClass:"full-width"},[n("AccountSelector",{attrs:{wallets:t.wallets,connex:i,isSelectable:!0},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.address;return[n("BalanceList",{attrs:{connex:i,address:e}})]}}],null,!0),model:{value:t.signer,callback:function(e){t.signer=e},expression:"signer"}}),n("q-item",[n("SlideBtn",{staticClass:"absolute-center",staticStyle:{width:"70%"},attrs:{label:"Slide to Sign"},on:{checked:function(e){return t.sign(i)}},model:{value:t.signed,callback:function(e){t.signed=e},expression:"signed"}})],1)],1)]}}])})],1)],1)],1)},Dr=[],zr=n("22d7"),Ar=n("d9eb"),Br=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))},Lr=i["a"].extend({props:{req:Object,gid:String,referer:Object},data(){return{signer:"",isSelectable:!1,signed:!1}},computed:{node(){return this.$state.config.node.list.find(t=>t.gid===this.gid)||null},wallets(){return this.$state.wallet.list.filter(t=>t.gid===this.gid)},isEnforced(){return!(!this.req.options||!this.req.options.signer)},hasTheSigner(){return this.isEnforced&&this.addresses.includes(this.req.options.signer)},addresses(){let t=[];return this.wallets.forEach(e=>{t=[...t,...e.meta.addresses]}),t},wallet(){return this.wallets.find(t=>t.meta.addresses.includes(this.signer))||null}},mounted(){this.initData()},methods:{initData(){this.isEnforced?this.signer=this.hasTheSigner?this.req.options.signer:"":this.signer=this.wallets[0].meta.addresses[0],this.isSelectable=!this.isEnforced},show(){this.$refs.dialog.show()},hide(){this.$refs.dialog.hide()},ok(t){this.$emit("ok",t),this.hide()},sign(t){return Br(this,void 0,void 0,(function*(){try{const e=yield this.$authenticate(t=>Promise.resolve(t));if(this.wallet){const n=yield k["a"].decode(this.wallet.vault),i=yield n.derive(this.wallet.meta.addresses.indexOf(this.signer)),s=yield i.unlock(e),r={signer:this.signer,timestamp:t.thor.status.head.timestamp,domain:this.req.domain},o=zr["Certificate"].encode(Object.assign(Object.assign({},this.req.message),r)),a="0x"+Ar["secp256k1"].sign(Object(Ar["blake2b256"])(o),s).toString("hex"),c="0x"+Object(Ar["blake2b256"])(zr["Certificate"].encode(Object.assign(Object.assign(Object.assign({},this.req.message),r),{signature:a}))).toString("hex"),l={id:c,message:this.req.message,closed:!0,signer:this.signer,type:"cert",referer:this.referer||{},timestamp:t.thor.status.head.timestamp,signature:a};this.$storage.activities.insert({gid:this.gid,walletId:this.wallet.id,createdTime:Date.now(),glob:JSON.stringify(l)}),this.ok({annex:r,signature:a})}}catch(e){this.signed=!1,console.log(e),this.hide()}}))}}}),Vr=Lr,Mr=Object(u["a"])(Vr,Nr,Dr,!1,null,null,null),Hr=Mr.exports,Gr=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};const Wr=n("3f08"),Fr=(()=>{let t;return(e,n)=>new Promise((i,s)=>{t&&(t.hide(),t=void 0);const r=e.$q.dialog(n);r.onOk(i).onCancel(t=>s(t||new Error("cancelled"))).onDismiss(()=>{t===r&&(t=void 0)}),t=r})})();var Jr=Object(m["boot"])(({Vue:t})=>Gr(void 0,void 0,void 0,(function*(){t.use(xr["a"]),t.use(Wr.Plugin);const e=hr(),n=yield sr["a"].init();let i=0;const s=t.component("DelayedSpinner",{data:()=>({display:!1}),props:{color:String,size:Number},created(){setTimeout(()=>{this.display=!0},200)},render(t){if(!this.display)return t();const e=t(o["a"],{props:this.$props});return t("transition",{props:{name:"q-transition--fade",appear:!0}},[e])}});Object.defineProperties(t.prototype,{$state:{get(){return e}},$storage:{get(){return n}},$authenticate:{get(){const t=this;return(e,n)=>new Promise((i,s)=>{t.$q.dialog({component:yr,parent:t,task:e,args:n||{}}).onOk(i).onCancel(()=>s(new Error("cancelled")))})}},$loading:{get(){const t=this.$root;return e=>Gr(this,void 0,void 0,(function*(){try{return 0===i++&&t.$q.loading.show({spinner:s,delay:0,backgroundColor:"transparent",spinnerColor:"black"}),yield e()}finally{0===--i&&t.$q.loading.hide()}}))}},$actionSheets:{get(){const t=this;return e=>new Promise(n=>{t.$q.dialog({component:$r,parent:t,actions:e}).onCancel(()=>{n(!1)}).onDismiss(()=>{n(!1)}).onOk(()=>{n(!0)})})}},$signTx:{get(){const t=this;return(e,n)=>Fr(t,{component:Rr,parent:t,gid:e,req:n})}},$signCert:{get(){const t=this;return(e,n)=>Fr(t,{component:Hr,parent:t,gid:e,req:n})}}})}))),Xr=n("c72b");const Ur={net:t=>"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"===t?"main":"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"===t?"test":"private",abbrev:(t,e=6,n=4)=>t.length<=e+n?t:t.slice(0,e)+"⋯"+t.slice(-n),checksum:t=>Object(de["toChecksumAddress"])(t),balance:(t,e=18,n=2)=>"string"!==typeof t&&"number"!==typeof t?new ki["BigNumber"](0).toFormat(n).replace(/0/g,"-"):new ki["BigNumber"](t).div(new ki["BigNumber"]("1"+"0".repeat(e))).toFormat(n),toWei:(t,e=18)=>{const n=new ki["BigNumber"]("1e+"+e),i=new ki["BigNumber"](t);return"0x"+new ki["BigNumber"](i.multipliedBy(n).toFixed(0,ki["BigNumber"].ROUND_DOWN)).toString(16)},dateTime:t=>new Date(t).toLocaleString(void 0,{year:"numeric",day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),ago:t=>Object(Xr["a"])(1e3*t),urlHost:t=>{let e="";try{e=t?new URL(t).host:""}catch(n){console.log(n)}return e}};var Kr=Object(m["boot"])(({Vue:t})=>{Object.entries(Ur).forEach(([e,n])=>{t.filter(e,n)})});const Qr={scrollDivider:{inserted:(t,e)=>{const{top:n=!0,bottom:i,both:s}=e.modifiers,r=()=>{if(n||s){const e=.12*(t.scrollTop>50?1:t.scrollTop/50);t.style.borderTop=`1px solid rgba(0,0,0,${e})`}if(i||s){const e=t.scrollHeight-t.scrollTop-t.clientHeight,n=.12*(e>50?1:e/50);t.style.borderBottom=`1px solid rgba(0,0,0,${n})`}};t._scrollHandler=r,t.addEventListener("scroll",r),r()},unbind:t=>{t.removeEventListener("scroll",t._scrollHandler),delete t._scrollHandler}}};var Yr=Object(m["boot"])(({Vue:t})=>{Object.entries(Qr).forEach(([e,n])=>{t.directive(e,n)})}),Zr=n("faeb");async function to(){const{app:t,router:e}=await we();let n=!0;const s=t=>{n=!1,window.location.href=t},r=window.location.href.replace(window.location.origin,""),o=[$e,Te,ir,Jr,Kr,Yr,Zr["a"]];for(let c=0;!0===n&&c<o.length;c++)if("function"===typeof o[c])try{await o[c]({app:t,router:e,Vue:i["a"],ssrContext:null,redirect:s,urlPath:r})}catch(a){return a&&a.url?void(window.location.href=a.url):void console.error("[Quasar] boot error:",a)}!1!==n&&new i["a"](t)}to()},3:function(t,e){},3036:function(t,e,n){},3651:function(t,e,n){},"3ad3":function(t,e,n){},"3be5":function(t,e,n){},4:function(t,e){},4011:function(t,e,n){},5:function(t,e){},"548a":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return h}));var i=n("c6ec"),s=n("b446"),r=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function o(t,e,n){return t.thor.account(n.address).method(i["a"].balanceOf).cache([e]).call(e).then(t=>t.decoded.balance)}const a={};function c(t,e){return r(this,void 0,void 0,(function*(){const n=`${t.thor.genesis.id}-${e}`;if(a[n])return a[n];{const s="0x0000000000000000000000000000506172616d73",r=yield t.thor.account(s).method(i["a"].paramsGet).cache([s]).call(e);return a[n]=r.data,r.data}}))}function l(t,e,n){const s=e.map(e=>t.thor.account(e).event(i["a"].transferEvent).asCriteria({_from:n})),r=e.map(e=>t.thor.account(e).event(i["a"].transferEvent).asCriteria({_to:n}));return[...s,...r]}function d(t,e,n,s,o,a){return r(this,void 0,void 0,(function*(){const r=[{sender:e},{recipient:e}],c=t.thor.filter("transfer").criteria(r),l=yield c.order("desc").range({unit:"block",from:n,to:s}).apply(o,a);return l.map(t=>({token:i["c"].VET,meta:t.meta,amount:t.amount,sender:t.sender,recipient:t.recipient}))}))}function u(t,e,n,o,a,c,d){return r(this,void 0,void 0,(function*(){const r={};e.forEach(t=>{r[t.address]=t});const u=l(t,e.map(t=>t.address),n),h=t.thor.filter("event").criteria(u),f=yield h.order("desc").range({unit:"block",from:o,to:a}).apply(c,d),m=new s["abi"].Event(i["a"].transferEvent);return f.map(t=>{const e=m.decode(t.data,t.topics);return{token:r[t.address],meta:t.meta,sender:e._from,amount:e._value,recipient:e._to}})}))}function h(t,e){return r(this,void 0,void 0,(function*(){const n=t.thor.transaction(e);return n.getReceipt()}))}},6:function(t,e){},6880:function(t,e,n){"use strict";var i=n("be5a"),s=n.n(i);s.a},"6d08":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));var i=n("7330"),s=n("7880"),r=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function o(e,n,o){return r(this,void 0,void 0,(function*(){if("static"===n.type){if(0!==o)throw new Error("invalid node index");const r="0x"+Object(s["publicKeyToAddress"])(t.from(n.pub,"hex")).toString("hex");return{get address(){return r},get index(){return o},unlock:t=>Object(i["a"])(n.cipherGlob,t,e)}}{const s=yield Object(i["e"])(t.from(n.pub,"hex"),t.from(n.chainCode,"hex"),o);return{get address(){return s.address},get index(){return o},unlock:t=>r(this,void 0,void 0,(function*(){if(!n.cipherGlob)throw new Error("unsupported operation");const s=yield Object(i["a"])(n.cipherGlob,t,e),r=s.toString("utf8").split(" ");return(yield Object(i["d"])(r,o)).privateKey}))}}}))}}).call(this,n("1c35").Buffer)},7:function(t,e){},7330:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return u})),n.d(e,"f",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return m}));var i=n("895a"),s=n.n(i),r=n("b423");const o=new s.a,a=[];function c(t,...e){o.postMessage([t,e]);const n=new r["a"];return a.push(n),n}function l(){return c("generateSalt").then(e=>t.from(e))}function d(t,e,n){return c("encrypt",t,e,n)}function u(e,n,i){return c("decrypt",e,n,i).then(e=>t.from(e))}function h(t=32){return c("hdGenerateMnemonic",t)}function f(e,n){return c("hdDeriveMnemonic",e,n).then(e=>{const[n,i,s,r]=e;return{pub:t.from(n),chainCode:t.from(i),address:s,privateKey:t.from(r)}})}function m(e,n,i){return c("hdDeriveXPub",e,n,i).then(e=>{const[n,i,s]=e;return{pub:t.from(n),chainCode:t.from(i),address:s}})}o.onmessage=t=>{const[e,n]=t.data,i=a.shift();if(!i)throw new Error("unexpected message");n?i.reject(new Error(n.message)):i.resolve(e)}}).call(this,n("1c35").Buffer)},"7d13":function(t,e,n){},"7e9a":function(t,e,n){},8:function(t,e){},8041:function(t,e,n){"use strict";var i=n("d924"),s=n.n(i);s.a},"895a":function(t,e,n){t.exports=function(){return new Worker(n.p+"8e14adb81077c44283aa.worker.js")}},9:function(t,e){},"9afe":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("6d08"),s=n("7330"),r=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function o(t,e){return{get type(){return e.type},derive:n=>Object(i["a"])(t,e,n),decrypt:n=>r(this,void 0,void 0,(function*(){if(!e.cipherGlob)throw new Error("unsupported operation");const i=yield Object(s["a"])(e.cipherGlob,n,t);return"hd"===e.type?i.toString("utf8"):i})),clone:(n,i)=>r(this,void 0,void 0,(function*(){if(!e.cipherGlob)throw new Error("unsupported operation");const r=yield Object(s["a"])(e.cipherGlob,n,t);return o(t,Object.assign(Object.assign({},e),{cipherGlob:yield Object(s["b"])(r,i,t)}))})),encode:()=>JSON.stringify(e)}}},a876:function(t,e,n){"use strict";var i=n("7e9a"),s=n.n(i);s.a},a9fd:function(t,e,n){"use strict";var i=n("3be5"),s=n.n(i);s.a},ab4e:function(t,e,n){"use strict";var i=n("4011"),s=n.n(i);s.a},ad13:function(t,e,n){"use strict";var i=n("3ad3"),s=n.n(i);s.a},b423:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));class i extends Promise{constructor(){if(arguments.length>0)return super(arguments[0]),this.resolve=()=>{throw new Error("Deferred.resolve is not callable")},void(this.reject=()=>{throw new Error("Deferred.reject is not callable")});let t,e;super((n,i)=>{t=n,e=i}),this.resolve=t,this.reject=e}}},be5a:function(t,e,n){},bf9f:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));var i=n("7330"),s=n("f945"),r=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function o(){return r(this,void 0,void 0,(function*(){const e="vault-salt";{const n=yield s["a"].init(),r=yield n.configs.all().where({key:e}).query();if(r.length>0)return t.from(r[0].value,"hex");const o=yield Object(i["c"])();return yield n.configs.insert({key:e,value:o.toString("hex")}),o}}))}let a;function c(){return a||(a=o()),a}}).call(this,n("1c35").Buffer)},c6ec:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return h}));const i={constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},s={constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},r={anonymous:!1,inputs:[{indexed:!0,name:"_from",type:"address"},{indexed:!0,name:"_to",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"Transfer",type:"event"},o={constant:!0,inputs:[{name:"_key",type:"bytes32"}],name:"get",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},a={symbol:"VTHO",name:"VeChain Thor",address:"0x0000000000000000000000000000456e65726779",decimals:18,desc:"Represents the underlying cost of using VeChainThor",icon:"3ac553ea77911248ab4519bca020e0aa2891a6c6.png",totalSupply:""},c={symbol:"VET",name:"VeChain",address:"",decimals:18,desc:"",icon:"",totalSupply:""},l={transfer:i,balanceOf:s,paramsGet:o,transferEvent:r},d={VTHO:a,VET:c},u={get tos(){return"https://tos.vecha.in:5678/"},get tokenRegistry(){return"https://vechain.github.io/token-registry/"}},h={get main(){return"0x00000000851caf3cfdb6e899cf5958bfb1ac3413d346d43539627e6be7ec1b4a"},get test(){return"0x000000000b2bce3c70bc649a02749e8687721b09ed2e15997f466536b20bb127"}}},cc6e:function(t,e,n){"use strict";var i=n("7d13"),s=n.n(i);s.a},d924:function(t,e,n){},e590:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var i,s=n("a0b8"),r=n("bf9f"),o=n("9afe"),a=n("7330"),c=n("1c46"),l=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};(function(e){function n(t){return l(this,void 0,void 0,(function*(){const e=yield Object(r["a"])(),n=yield Object(a["b"])(Object(c["randomBytes"])(32),t,e);return n}))}function i(t,e){return l(this,void 0,void 0,(function*(){const n=yield Object(r["a"])();yield Object(a["a"])(t,e,n)}))}function d(t=32){if(t<16||t>32||t%4!==0)throw new Error("invalid arg");return Object(a["f"])(t)}function u(t){return l(this,void 0,void 0,(function*(){const e=yield Object(r["a"])(),n=JSON.parse(t);return Object(o["a"])(e,n)}))}function h(e,n){return l(this,void 0,void 0,(function*(){const i=yield Object(r["a"])(),s=yield Object(a["d"])(e,-1),c=t.from(e.join(" "),"utf8"),l=yield Object(a["b"])(c,n,i);return Object(o["a"])(i,{type:"hd",pub:s.pub.toString("hex"),chainCode:s.chainCode.toString("hex"),cipherGlob:l})}))}function f(t,e){return l(this,void 0,void 0,(function*(){const n=yield Object(r["a"])(),i=yield Object(a["b"])(t,e,n);return Object(o["a"])(n,{type:"static",pub:s["secp256k1"].derivePublicKey(t).toString("hex"),cipherGlob:i})}))}function m(e,n){return Promise.resolve(Object(o["a"])(t.from([]),{type:"usb",pub:e.toString("hex"),chainCode:n.toString("hex")}))}e.shadowPassword=n,e.verifyPassword=i,e.generateMnemonic=d,e.decode=u,e.createHD=h,e.createStatic=f,e.createUSB=m})(i||(i={}))}).call(this,n("1c35").Buffer)},f445:function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var i=n("0792"),s=n("548a"),r=n("1c46"),o=n("8bb6"),a=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};function c(t){return a(this,void 0,void 0,(function*(){const e="0x000000000000000000000000000000000000626173652d6761732d7072696365";return yield Object(s["a"])(t,e)}))}function l(t,e,n,s){return a(this,void 0,void 0,(function*(){const r=yield t.thor.explain().caller(s).gas(n||2e7).execute(e);if(!n){const t=r.reduce((t,e)=>t+e.gasUsed,0),s=i["Transaction"].intrinsicGas(e.map(t=>({to:t.to,data:t.data||"0x",value:t.value||0})));n=s+(t?t+15e3:0)}const o=yield c(t),a=r.slice().pop();return{gas:n,reverted:!!a&&a.reverted,revertReason:a&&a.decoded&&a.decoded.revertReason||"",vmError:a?a.vmError:"",baseGasPrice:o}}))}function d(e,n,s,a,c){const l=e.thor.genesis,d=e.thor.status.head.id,u={chainTag:Number.parseInt(l.id.slice(l.id.length-2),16),blockRef:d.slice(0,18),expiration:18,clauses:n,gasPriceCoef:s,gas:a,dependsOn:c,nonce:"0x"+Object(r["randomBytes"])(8).toString("hex")};return{unsignedTx:t=>{let e={};return t&&(e={reserved:{features:1}}),new i["Transaction"](Object.assign(Object.assign({},u),e))},signTx:(e,n)=>{let s;if(n){s=new i["Transaction"](Object.assign(Object.assign({},u),{reserved:{features:1}}));const r=o["cry"].secp256k1.sign(o["cry"].blake2b256(s.encode()),e);s.signature=t.concat([r,t.from(n.slice(2),"hex")])}else s=new i["Transaction"](u),s.signature=o["cry"].secp256k1.sign(o["cry"].blake2b256(s.encode()),e);return s}}}}).call(this,n("1c35").Buffer)},f945:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i,s=function(t,e,n,i){function s(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,r){function o(t){try{c(i.next(t))}catch(e){r(e)}}function a(t){try{c(i["throw"](t))}catch(e){r(e)}}function c(t){t.done?n(t.value):s(t.value).then(o,a)}c((i=i.apply(t,e||[])).next())}))};(function(t){let e;function i(){return s(this,void 0,void 0,(function*(){return e||(e=(()=>s(this,void 0,void 0,(function*(){return(yield Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"7abc"))).open()})))()),e}))}t.init=i})(i||(i={}))},faeb:function(t,e,n){"use strict";(function(t){var i=n("bc3a"),s=n.n(i),r=n("4bde");class o{constructor(t,e){this.url=t,this.rawTx=e,this.retries=0,this.sent=!1,this.requesting=!1}send(){this.retries=0,this.sent=!1,this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.requesting||this.post()}get status(){return this.sent?"sent":this.retries>=o.MAX_RETRIES?"error":"sending"}post(){this.requesting=!0,s.a.post(this.url,t.from(JSON.stringify({raw:this.rawTx})),{headers:{"Content-Type":"application/json"},timeout:1e4}).then(()=>{this.sent=!0}).catch(t=>{console.log(t.message),this.retries++,this.retries<o.MAX_RETRIES&&(this.timer=setTimeout(()=>{this.timer=void 0,this.post()},1e4))}).finally(()=>{this.requesting=!1})}}o.MAX_RETRIES=5;class a{constructor(){this.map=new Map}request(t,e,n){let i=this.map.get(t);i||(i=new o(e,n),i.send()),this.map.set(t,i)}status(t){const e=this.map.get(t);return e?e.status:void 0}}e["a"]=Object(r["boot"])(({Vue:t})=>{t.prototype.$txer=new a})}).call(this,n("1c35").Buffer)}},[[0,2,0]]]);