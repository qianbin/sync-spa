(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"7abc":function(e,t,i){"use strict";i.r(t),i.d(t,"open",(function(){return s}));var n=i("74ce");function o(){let e=0,t=[];return{notify(){e++;const i=t;t=[],i.forEach(e=>e())},observe(){let i=e;return{changed:()=>new Promise(n=>{if(i!==e)return n();t.push(n)}).then(()=>{i=e})}}}}var r=function(e,t,i,n){function o(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,r){function c(e){try{l(n.next(e))}catch(t){r(t)}}function s(e){try{l(n["throw"](e))}catch(t){r(t)}}function l(e){e.done?i(e.value):o(e.value).then(c,s)}l((n=n.apply(e,t||[])).next())}))};function c(e){const t=o();return{insert:(i,n)=>r(this,void 0,void 0,(function*(){n?yield e.put(i):yield e.add(i),t.notify()})),update:(i,n)=>r(this,void 0,void 0,(function*(){Object.keys(i).length>0?yield e.where(i).modify(n):yield e.toCollection().modify(n),t.notify()})),delete:i=>r(this,void 0,void 0,(function*(){Object.keys(i).length>0?yield e.where(i).delete():yield e.toCollection().delete(),t.notify()})),all:()=>{const t={};return{where(e){return t.cond=e,this},reverse(){return t.reverse=!0,this},limit(e,i){return t.limit={count:e,offset:i},this},query(){let i;return t.cond&&(i=e.where(t.cond)),t.reverse&&(i=(i||e).reverse()),t.limit&&(t.limit.offset&&(i=(i||e).offset(t.limit.offset)),i=(i||e).limit(t.limit.count)),(i||e).toArray()}}},observe:()=>t.observe()}}function s(){return r(this,void 0,void 0,(function*(){const e=new n["a"]("data-store");return e.version(1).stores({configs:"key",wallets:"++id, gid",activities:"++id, [gid+walletId+createdTime]"}),yield e.open(),{configs:c(e.table("configs")),wallets:c(e.table("wallets")),activities:c(e.table("activities")),transaction:t=>e.transaction("rw",e.tables,()=>t()),waitFor:e=>n["a"].waitFor(e)}}))}}}]);